!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).$KcSensors=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},r=e,n=function(t){return Object(r(t))},i={}.hasOwnProperty,s=function(t,e){return i.call(t,e)},o={}.toString,a=function(t){return o.call(t).slice(8,-1)},c=a,u=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==c(t)?t.split(""):Object(t)},l=u,f=e,p=function(t){return l(f(t))},h=Math.ceil,d=Math.floor,v=function(t){return isNaN(t=+t)?0:(t>0?d:h)(t)},g=v,_=Math.min,y=function(t){return t>0?_(g(t),9007199254740991):0},m=v,b=Math.max,S=Math.min,A=p,w=y,x=function(t,e){return(t=m(t))<0?b(t+e,0):S(t,e)},T={exports:{}},k={exports:{}},j=k.exports={version:"2.6.12"};"number"==typeof __e&&(__e=j);var O={exports:{}},B=O.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=B);var E=k.exports,P=O.exports,F="__core-js_shared__",N=P[F]||(P[F]={});(T.exports=function(t,e){return N[t]||(N[t]=void 0!==e?e:{})})("versions",[]).push({version:E.version,mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var R,L=0,D=Math.random(),I=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++L+D).toString(36))},C=T.exports("keys"),M=I,U=function(t){return C[t]||(C[t]=M(t))},z=s,$=p,H=(R=!1,function(t,e,r){var n,i=A(t),s=w(i.length),o=x(r,s);if(R&&e!=e){for(;s>o;)if((n=i[o++])!=n)return!0}else for(;s>o;o++)if((R||o in i)&&i[o]===e)return R||o||0;return!R&&-1}),V=U("IE_PROTO"),K="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),G=function(t,e){var r,n=$(t),i=0,s=[];for(r in n)r!=V&&z(n,r)&&s.push(r);for(;e.length>i;)z(n,r=e[i++])&&(~H(s,r)||s.push(r));return s},q=K,W=Object.keys||function(t){return G(t,q)},J=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},Q=J,X=function(t,e,r){if(Q(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},Z={},Y=function(t){return"object"==typeof t?null!==t:"function"==typeof t},tt=Y,et=function(t){if(!tt(t))throw TypeError(t+" is not an object!");return t},rt=function(t){try{return!!t()}catch(t){return!0}},nt=!rt((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),it=Y,st=O.exports.document,ot=it(st)&&it(st.createElement),at=function(t){return ot?st.createElement(t):{}},ct=!nt&&!rt((function(){return 7!=Object.defineProperty(at("div"),"a",{get:function(){return 7}}).a})),ut=Y,lt=et,ft=ct,pt=function(t,e){if(!ut(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!ut(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!ut(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!ut(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},ht=Object.defineProperty;Z.f=nt?Object.defineProperty:function(t,e,r){if(lt(t),e=pt(e,!0),lt(r),ft)try{return ht(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t};var dt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},vt=Z,gt=dt,_t=nt?function(t,e,r){return vt.f(t,e,gt(1,r))}:function(t,e,r){return t[e]=r,t},yt=O.exports,mt=k.exports,bt=X,St=_t,At=s,wt=function(t,e,r){var n,i,s,o=t&wt.F,a=t&wt.G,c=t&wt.S,u=t&wt.P,l=t&wt.B,f=t&wt.W,p=a?mt:mt[e]||(mt[e]={}),h=p.prototype,d=a?yt:c?yt[e]:(yt[e]||{}).prototype;for(n in a&&(r=e),r)(i=!o&&d&&void 0!==d[n])&&At(p,n)||(s=i?d[n]:r[n],p[n]=a&&"function"!=typeof d[n]?r[n]:l&&i?bt(s,yt):f&&d[n]==s?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(s):u&&"function"==typeof s?bt(Function.call,s):s,u&&((p.virtual||(p.virtual={}))[n]=s,t&wt.R&&h&&!h[n]&&St(h,n,s)))};wt.F=1,wt.G=2,wt.S=4,wt.P=8,wt.B=16,wt.W=32,wt.U=64,wt.R=128;var xt=wt,Tt=xt,kt=k.exports,jt=rt,Ot=n,Bt=W;!function(t,e){var r=(kt.Object||{})[t]||Object[t],n={};n[t]=e(r),Tt(Tt.S+Tt.F*jt((function(){r(1)})),"Object",n)}("keys",(function(){return function(t){return Bt(Ot(t))}}));var Et=k.exports.Object.keys;function Pt(t,e){if(null==t)return{};var r,n,i={},s=Et(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}var Ft=v,Nt=e,Rt=_t,Lt={},Dt=Z,It=et,Ct=W,Mt=nt?Object.defineProperties:function(t,e){It(t);for(var r,n=Ct(e),i=n.length,s=0;i>s;)Dt.f(t,r=n[s++],e[r]);return t},Ut=O.exports.document,zt=Ut&&Ut.documentElement,$t=et,Ht=Mt,Vt=K,Kt=U("IE_PROTO"),Gt=function(){},qt=function(){var t,e=at("iframe"),r=Vt.length;for(e.style.display="none",zt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),qt=t.F;r--;)delete qt.prototype[Vt[r]];return qt()},Wt=Object.create||function(t,e){var r;return null!==t?(Gt.prototype=$t(t),r=new Gt,Gt.prototype=null,r[Kt]=t):r=qt(),void 0===e?r:Ht(r,e)},Jt={exports:{}},Qt=T.exports("wks"),Xt=I,Zt=O.exports.Symbol,Yt="function"==typeof Zt;(Jt.exports=function(t){return Qt[t]||(Qt[t]=Yt&&Zt[t]||(Yt?Zt:Xt)("Symbol."+t))}).store=Qt;var te=Z.f,ee=s,re=Jt.exports("toStringTag"),ne=function(t,e,r){t&&!ee(t=r?t:t.prototype,re)&&te(t,re,{configurable:!0,value:e})},ie=Wt,se=dt,oe=ne,ae={};_t(ae,Jt.exports("iterator"),(function(){return this}));var ce=s,ue=n,le=U("IE_PROTO"),fe=Object.prototype,pe=Object.getPrototypeOf||function(t){return t=ue(t),ce(t,le)?t[le]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?fe:null},he=xt,de=Rt,ve=_t,ge=Lt,_e=function(t,e,r){t.prototype=ie(ae,{next:se(1,r)}),oe(t,e+" Iterator")},ye=ne,me=pe,be=Jt.exports("iterator"),Se=!([].keys&&"next"in[].keys()),Ae="keys",we="values",xe=function(){return this},Te=function(t,e,r,n,i,s,o){_e(r,e,n);var a,c,u,l=function(t){if(!Se&&t in d)return d[t];switch(t){case Ae:case we:return function(){return new r(this,t)}}return function(){return new r(this,t)}},f=e+" Iterator",p=i==we,h=!1,d=t.prototype,v=d[be]||d["@@iterator"]||i&&d[i],g=v||l(i),_=i?p?l("entries"):g:void 0,y="Array"==e&&d.entries||v;if(y&&(u=me(y.call(new t)))!==Object.prototype&&u.next&&ye(u,f,!0),p&&v&&v.name!==we&&(h=!0,g=function(){return v.call(this)}),o&&(Se||h||!d[be])&&ve(d,be,g),ge[e]=g,ge[f]=xe,i)if(a={values:p?g:l(we),keys:s?g:l(Ae),entries:_},o)for(c in a)c in d||de(d,c,a[c]);else he(he.P+he.F*(Se||h),e,a);return a},ke=function(t){return function(e,r){var n,i,s=String(Nt(e)),o=Ft(r),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(i=s.charCodeAt(o+1))<56320||i>57343?t?s.charAt(o):n:t?s.slice(o,o+2):i-56320+(n-55296<<10)+65536}}(!0);Te(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=ke(e,r),this._i+=t.length,{value:t,done:!1})}));var je=function(t,e){return{value:e,done:!!t}},Oe=Lt,Be=p;Te(Array,"Array",(function(t,e){this._t=Be(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,je(1)):je(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),Oe.Arguments=Oe.Array;for(var Ee=O.exports,Pe=_t,Fe=Lt,Ne=Jt.exports("toStringTag"),Re="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Le=0;Le<Re.length;Le++){var De=Re[Le],Ie=Ee[De],Ce=Ie&&Ie.prototype;Ce&&!Ce[Ne]&&Pe(Ce,Ne,De),Fe[De]=Fe.Array}var Me=a,Ue=Jt.exports("toStringTag"),ze="Arguments"==Me(function(){return arguments}()),$e=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ue))?r:ze?Me(e):"Object"==(n=Me(e))&&"function"==typeof e.callee?"Arguments":n},He=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t},Ve={exports:{}},Ke=et,Ge=Lt,qe=Jt.exports("iterator"),We=Array.prototype,Je=$e,Qe=Jt.exports("iterator"),Xe=Lt,Ze=k.exports.getIteratorMethod=function(t){if(null!=t)return t[Qe]||t["@@iterator"]||Xe[Je(t)]},Ye=X,tr=function(t,e,r,n){try{return n?e(Ke(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&Ke(i.call(t)),e}},er=function(t){return void 0!==t&&(Ge.Array===t||We[qe]===t)},rr=et,nr=y,ir=Ze,sr={},or={},ar=Ve.exports=function(t,e,r,n,i){var s,o,a,c,u=i?function(){return t}:ir(t),l=Ye(r,n,e?2:1),f=0;if("function"!=typeof u)throw TypeError(t+" is not iterable!");if(er(u)){for(s=nr(t.length);s>f;f++)if((c=e?l(rr(o=t[f])[0],o[1]):l(t[f]))===sr||c===or)return c}else for(a=u.call(t);!(o=a.next()).done;)if((c=tr(a,l,o.value,e))===sr||c===or)return c};ar.BREAK=sr,ar.RETURN=or;var cr,ur,lr,fr=et,pr=J,hr=Jt.exports("species"),dr=function(t,e){var r,n=fr(t).constructor;return void 0===n||null==(r=fr(n)[hr])?e:pr(r)},vr=X,gr=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)},_r=zt,yr=at,mr=O.exports,br=mr.process,Sr=mr.setImmediate,Ar=mr.clearImmediate,wr=mr.MessageChannel,xr=mr.Dispatch,Tr=0,kr={},jr="onreadystatechange",Or=function(){var t=+this;if(kr.hasOwnProperty(t)){var e=kr[t];delete kr[t],e()}},Br=function(t){Or.call(t.data)};Sr&&Ar||(Sr=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return kr[++Tr]=function(){gr("function"==typeof t?t:Function(t),e)},cr(Tr),Tr},Ar=function(t){delete kr[t]},"process"==a(br)?cr=function(t){br.nextTick(vr(Or,t,1))}:xr&&xr.now?cr=function(t){xr.now(vr(Or,t,1))}:wr?(lr=(ur=new wr).port2,ur.port1.onmessage=Br,cr=vr(lr.postMessage,lr,1)):mr.addEventListener&&"function"==typeof postMessage&&!mr.importScripts?(cr=function(t){mr.postMessage(t+"","*")},mr.addEventListener("message",Br,!1)):cr=jr in yr("script")?function(t){_r.appendChild(yr("script")).onreadystatechange=function(){_r.removeChild(this),Or.call(t)}}:function(t){setTimeout(vr(Or,t,1),0)});var Er={set:Sr,clear:Ar},Pr=O.exports,Fr=Er.set,Nr=Pr.MutationObserver||Pr.WebKitMutationObserver,Rr=Pr.process,Lr=Pr.Promise,Dr="process"==a(Rr),Ir={},Cr=J;function Mr(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Cr(e),this.reject=Cr(r)}Ir.f=function(t){return new Mr(t)};var Ur=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},zr=O.exports.navigator,$r=zr&&zr.userAgent||"",Hr=et,Vr=Y,Kr=Ir,Gr=function(t,e){if(Hr(t),Vr(e)&&e.constructor===t)return e;var r=Kr.f(t);return(0,r.resolve)(e),r.promise},qr=_t,Wr=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:qr(t,n,e[n]);return t},Jr=O.exports,Qr=k.exports,Xr=Z,Zr=nt,Yr=Jt.exports("species"),tn=Jt.exports("iterator"),en=!1;try{var rn=[7][tn]();rn.return=function(){en=!0},Array.from(rn,(function(){throw 2}))}catch(t){}var nn,sn,on,an,cn=O.exports,un=X,ln=$e,fn=xt,pn=Y,hn=J,dn=He,vn=Ve.exports,gn=dr,_n=Er.set,yn=function(){var t,e,r,n=function(){var n,i;for(Dr&&(n=Rr.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(Dr)r=function(){Rr.nextTick(n)};else if(!Nr||Pr.navigator&&Pr.navigator.standalone)if(Lr&&Lr.resolve){var i=Lr.resolve(void 0);r=function(){i.then(n)}}else r=function(){Fr.call(Pr,n)};else{var s=!0,o=document.createTextNode("");new Nr(n).observe(o,{characterData:!0}),r=function(){o.data=s=!s}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}(),mn=Ir,bn=Ur,Sn=$r,An=Gr,wn="Promise",xn=cn.TypeError,Tn=cn.process,kn=Tn&&Tn.versions,jn=kn&&kn.v8||"",On=cn.Promise,Bn="process"==ln(Tn),En=function(){},Pn=sn=mn.f,Fn=!!function(){try{var t=On.resolve(1),e=(t.constructor={})[require("./_wks")("species")]=function(t){t(En,En)};return(Bn||"function"==typeof PromiseRejectionEvent)&&t.then(En)instanceof e&&0!==jn.indexOf("6.6")&&-1===Sn.indexOf("Chrome/66")}catch(t){}}(),Nn=function(t){var e;return!(!pn(t)||"function"!=typeof(e=t.then))&&e},Rn=function(t,e){if(!t._n){t._n=!0;var r=t._c;yn((function(){for(var n=t._v,i=1==t._s,s=0,o=function(e){var r,s,o,a=i?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(i||(2==t._h&&In(t),t._h=1),!0===a?r=n:(l&&l.enter(),r=a(n),l&&(l.exit(),o=!0)),r===e.promise?u(xn("Promise-chain cycle")):(s=Nn(r))?s.call(r,c,u):c(r)):u(n)}catch(t){l&&!o&&l.exit(),u(t)}};r.length>s;)o(r[s++]);t._c=[],t._n=!1,e&&!t._h&&Ln(t)}))}},Ln=function(t){_n.call(cn,(function(){var e,r,n,i=t._v,s=Dn(t);if(s&&(e=bn((function(){Bn?Tn.emit("unhandledRejection",i,t):(r=cn.onunhandledrejection)?r({promise:t,reason:i}):(n=cn.console)&&n.error&&n.error("Unhandled promise rejection",i)})),t._h=Bn||Dn(t)?2:1),t._a=void 0,s&&e.e)throw e.v}))},Dn=function(t){return 1!==t._h&&0===(t._a||t._c).length},In=function(t){_n.call(cn,(function(){var e;Bn?Tn.emit("rejectionHandled",t):(e=cn.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Cn=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Rn(e,!0))},Mn=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw xn("Promise can't be resolved itself");(e=Nn(t))?yn((function(){var n={_w:r,_d:!1};try{e.call(t,un(Mn,n,1),un(Cn,n,1))}catch(t){Cn.call(n,t)}})):(r._v=t,r._s=1,Rn(r,!1))}catch(t){Cn.call({_w:r,_d:!1},t)}}};Fn||(On=function(t){dn(this,On,wn,"_h"),hn(t),nn.call(this);try{t(un(Mn,this,1),un(Cn,this,1))}catch(t){Cn.call(this,t)}},(nn=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=Wr(On.prototype,{then:function(t,e){var r=Pn(gn(this,On));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Bn?Tn.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&Rn(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),on=function(){var t=new nn;this.promise=t,this.resolve=un(Mn,t,1),this.reject=un(Cn,t,1)},mn.f=Pn=function(t){return t===On||t===an?new on(t):sn(t)}),fn(fn.G+fn.W+fn.F*!Fn,{Promise:On}),ne(On,wn),function(t){var e="function"==typeof Qr[t]?Qr[t]:Jr[t];Zr&&e&&!e[Yr]&&Xr.f(e,Yr,{configurable:!0,get:function(){return this}})}(wn),an=k.exports.Promise,fn(fn.S+fn.F*!Fn,wn,{reject:function(t){var e=Pn(this);return(0,e.reject)(t),e.promise}}),fn(fn.S+true*fn.F,wn,{resolve:function(t){return An(this===an?On:this,t)}}),fn(fn.S+fn.F*!(Fn&&function(t,e){if(!e&&!en)return!1;var r=!1;try{var n=[7],i=n[tn]();i.next=function(){return{done:r=!0}},n[tn]=function(){return i},t(n)}catch(t){}return r}((function(t){On.all(t).catch(En)}))),wn,{all:function(t){var e=this,r=Pn(e),n=r.resolve,i=r.reject,s=bn((function(){var r=[],s=0,o=1;vn(t,!1,(function(t){var a=s++,c=!1;r.push(void 0),o++,e.resolve(t).then((function(t){c||(c=!0,r[a]=t,--o||n(r))}),i)})),--o||n(r)}));return s.e&&i(s.v),r.promise},race:function(t){var e=this,r=Pn(e),n=r.reject,i=bn((function(){vn(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}});var Un=xt,zn=k.exports,$n=O.exports,Hn=dr,Vn=Gr;Un(Un.P+Un.R,"Promise",{finally:function(t){var e=Hn(this,zn.Promise||$n.Promise),r="function"==typeof t;return this.then(r?function(r){return Vn(e,t()).then((function(){return r}))}:t,r?function(r){return Vn(e,t()).then((function(){throw r}))}:t)}});var Kn=Ir,Gn=Ur;xt(xt.S,"Promise",{try:function(t){var e=Kn.f(this),r=Gn(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}});var qn=k.exports.Promise,Wn={};Wn.f=Object.getOwnPropertySymbols;var Jn={};Jn.f={}.propertyIsEnumerable;var Qn=nt,Xn=W,Zn=Wn,Yn=Jn,ti=n,ei=u,ri=Object.assign,ni=!ri||rt((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=ri({},t)[r]||Object.keys(ri({},e)).join("")!=n}))?function(t,e){for(var r=ti(t),n=arguments.length,i=1,s=Zn.f,o=Yn.f;n>i;)for(var a,c=ei(arguments[i++]),u=s?Xn(c).concat(s(c)):Xn(c),l=u.length,f=0;l>f;)a=u[f++],Qn&&!o.call(c,a)||(r[a]=c[a]);return r}:ri,ii=xt;ii(ii.S+ii.F,"Object",{assign:ni});var si=k.exports.Object.assign,oi={exports:{}};!function(e,r){var n="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Function]",a="[object Object]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[s]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[o]=l["[object Map]"]=l["[object Number]"]=l[a]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var f="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,h=f||p||Function("return this")(),d=r&&!r.nodeType&&r,v=d&&e&&!e.nodeType&&e,g=v&&v.exports===d,_=g&&f.process,y=function(){try{var t=v&&v.require&&v.require("util").types;return t||_&&_.binding&&_.binding("util")}catch(t){}}(),m=y&&y.isTypedArray;function b(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var S,A,w=Array.prototype,x=Function.prototype,T=Object.prototype,k=h["__core-js_shared__"],j=x.toString,O=T.hasOwnProperty,B=function(){var t=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),E=T.toString,P=j.call(Object),F=RegExp("^"+j.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=g?h.Buffer:void 0,R=h.Symbol,L=h.Uint8Array,D=N?N.allocUnsafe:void 0,I=(S=Object.getPrototypeOf,A=Object,function(t){return S(A(t))}),C=Object.create,M=T.propertyIsEnumerable,U=w.splice,z=R?R.toStringTag:void 0,$=function(){try{var t=dt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),H=N?N.isBuffer:void 0,V=Math.max,K=Date.now,G=dt(h,"Map"),q=dt(Object,"create"),W=function(){function t(){}return function(e){if(!kt(e))return{};if(C)return C(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function J(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Q(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function X(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Z(t){var e=this.__data__=new Q(t);this.size=e.size}function Y(t,e){var r=St(t),n=!r&&bt(t),i=!r&&!n&&wt(t),s=!r&&!n&&!i&&Ot(t),o=r||n||i||s,a=o?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var u in t)!e&&!O.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vt(u,c))||a.push(u);return a}function tt(t,e,r){(void 0!==r&&!mt(t[e],r)||void 0===r&&!(e in t))&&nt(t,e,r)}function et(t,e,r){var n=t[e];O.call(t,e)&&mt(n,r)&&(void 0!==r||e in t)||nt(t,e,r)}function rt(t,e){for(var r=t.length;r--;)if(mt(t[r][0],e))return r;return-1}function nt(t,e,r){"__proto__"==e&&$?$(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}J.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},J.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},J.prototype.get=function(t){var e=this.__data__;if(q){var r=e[t];return r===n?void 0:r}return O.call(e,t)?e[t]:void 0},J.prototype.has=function(t){var e=this.__data__;return q?void 0!==e[t]:O.call(e,t)},J.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=q&&void 0===e?n:e,this},Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(t){var e=this.__data__,r=rt(e,t);return!(r<0)&&(r==e.length-1?e.pop():U.call(e,r,1),--this.size,!0)},Q.prototype.get=function(t){var e=this.__data__,r=rt(e,t);return r<0?void 0:e[r][1]},Q.prototype.has=function(t){return rt(this.__data__,t)>-1},Q.prototype.set=function(t,e){var r=this.__data__,n=rt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new(G||Q),string:new J}},X.prototype.delete=function(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e},X.prototype.get=function(t){return ht(this,t).get(t)},X.prototype.has=function(t){return ht(this,t).has(t)},X.prototype.set=function(t,e){var r=ht(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Z.prototype.clear=function(){this.__data__=new Q,this.size=0},Z.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Z.prototype.get=function(t){return this.__data__.get(t)},Z.prototype.has=function(t){return this.__data__.has(t)},Z.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Q){var n=r.__data__;if(!G||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new X(n)}return r.set(t,e),this.size=r.size,this};var it,st=function(t,e,r){for(var n=-1,i=Object(t),s=r(t),o=s.length;o--;){var a=s[it?o:++n];if(!1===e(i[a],a,i))break}return t};function ot(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":z&&z in Object(t)?function(t){var e=O.call(t,z),r=t[z];try{t[z]=void 0;var n=!0}catch(t){}var i=E.call(t);n&&(e?t[z]=r:delete t[z]);return i}(t):function(t){return E.call(t)}(t)}function at(t){return jt(t)&&ot(t)==s}function ct(t){return!(!kt(t)||function(t){return!!B&&B in t}(t))&&(xt(t)?F:c).test(function(t){if(null!=t){try{return j.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function ut(t){if(!kt(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=gt(t),r=[];for(var n in t)("constructor"!=n||!e&&O.call(t,n))&&r.push(n);return r}function lt(t,e,r,n,i){t!==e&&st(e,(function(s,o){if(i||(i=new Z),kt(s))!function(t,e,r,n,i,s,o){var c=_t(t,r),u=_t(e,r),l=o.get(u);if(l)return void tt(t,r,l);var f=s?s(c,u,r+"",t,e,o):void 0,p=void 0===f;if(p){var h=St(u),d=!h&&wt(u),v=!h&&!d&&Ot(u);f=u,h||d||v?St(c)?f=c:jt(b=c)&&At(b)?f=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(c):d?(p=!1,f=function(t,e){if(e)return t.slice();var r=t.length,n=D?D(r):new t.constructor(r);return t.copy(n),n}(u,!0)):v?(p=!1,g=u,_=!0?(y=g.buffer,m=new y.constructor(y.byteLength),new L(m).set(new L(y)),m):g.buffer,f=new g.constructor(_,g.byteOffset,g.length)):f=[]:function(t){if(!jt(t)||ot(t)!=a)return!1;var e=I(t);if(null===e)return!0;var r=O.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&j.call(r)==P}(u)||bt(u)?(f=c,bt(c)?f=function(t){return function(t,e,r,n){var i=!r;r||(r={});var s=-1,o=e.length;for(;++s<o;){var a=e[s],c=n?n(r[a],t[a],a,r,t):void 0;void 0===c&&(c=t[a]),i?nt(r,a,c):et(r,a,c)}return r}(t,Bt(t))}(c):kt(c)&&!xt(c)||(f=function(t){return"function"!=typeof t.constructor||gt(t)?{}:W(I(t))}(u))):p=!1}var g,_,y,m;var b;p&&(o.set(u,f),i(f,u,n,s,o),o.delete(u));tt(t,r,f)}(t,e,o,r,lt,n,i);else{var c=n?n(_t(t,o),s,o+"",t,e,i):void 0;void 0===c&&(c=s),tt(t,o,c)}}),Bt)}function ft(t,e){return yt(function(t,e,r){return e=V(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=V(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),b(t,this,a)}}(t,e,Ft),t+"")}var pt=$?function(t,e){return $(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Ft;function ht(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function dt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return ct(r)?r:void 0}function vt(t,e){var r=typeof t;return!!(e=null==e?i:e)&&("number"==r||"symbol"!=r&&u.test(t))&&t>-1&&t%1==0&&t<e}function gt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||T)}function _t(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yt=function(t){var e=0,r=0;return function(){var n=K(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(pt);function mt(t,e){return t===e||t!=t&&e!=e}var bt=at(function(){return arguments}())?at:function(t){return jt(t)&&O.call(t,"callee")&&!M.call(t,"callee")},St=Array.isArray;function At(t){return null!=t&&Tt(t.length)&&!xt(t)}var wt=H||function(){return!1};function xt(t){if(!kt(t))return!1;var e=ot(t);return e==o||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Tt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function kt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function jt(t){return null!=t&&"object"==typeof t}var Ot=m?function(t){return function(e){return t(e)}}(m):function(t){return jt(t)&&Tt(t.length)&&!!l[ot(t)]};function Bt(t){return At(t)?Y(t,!0):ut(t)}var Et,Pt=(Et=function(t,e,r){lt(t,e,r)},ft((function(t,e){var r=-1,n=e.length,i=n>1?e[n-1]:void 0,s=n>2?e[2]:void 0;for(i=Et.length>3&&"function"==typeof i?(n--,i):void 0,s&&function(t,e,r){if(!kt(r))return!1;var n=typeof e;return!!("number"==n?At(r)&&vt(e,r.length):"string"==n&&e in r)&&mt(r[e],t)}(e[0],e[1],s)&&(i=n<3?void 0:i,n=1),t=Object(t);++r<n;){var o=e[r];o&&Et(t,o,r,i)}return t})));function Ft(t){return t}e.exports=Pt}(oi,oi.exports);var ai=oi.exports,ci={exports:{}},ui=ci.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=ui);var li={exports:{}},fi=li.exports={version:"2.6.12"};"number"==typeof __e&&(__e=fi);var pi={},hi=function(t){return"object"==typeof t?null!==t:"function"==typeof t},di=hi,vi=function(t){if(!di(t))throw TypeError(t+" is not an object!");return t},gi=function(t){try{return!!t()}catch(t){return!0}},_i=!gi((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),yi=hi,mi=ci.exports.document,bi=yi(mi)&&yi(mi.createElement),Si=function(t){return bi?mi.createElement(t):{}},Ai=!_i&&!gi((function(){return 7!=Object.defineProperty(Si("div"),"a",{get:function(){return 7}}).a})),wi=hi,xi=function(t,e){if(!wi(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!wi(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!wi(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!wi(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},Ti=vi,ki=Ai,ji=xi,Oi=Object.defineProperty;pi.f=_i?Object.defineProperty:function(t,e,r){if(Ti(t),e=ji(e,!0),Ti(r),ki)try{return Oi(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t};var Bi=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Ei=pi,Pi=Bi,Fi=_i?function(t,e,r){return Ei.f(t,e,Pi(1,r))}:function(t,e,r){return t[e]=r,t},Ni={exports:{}},Ri={}.hasOwnProperty,Li=function(t,e){return Ri.call(t,e)},Di=0,Ii=Math.random(),Ci=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Di+Ii).toString(36))},Mi={exports:{}},Ui=li.exports,zi=ci.exports,$i="__core-js_shared__",Hi=zi[$i]||(zi[$i]={});(Mi.exports=function(t,e){return Hi[t]||(Hi[t]=void 0!==e?e:{})})("versions",[]).push({version:Ui.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var Vi=Mi.exports("native-function-to-string",Function.toString),Ki=ci.exports,Gi=Fi,qi=Li,Wi=Ci("src"),Ji=Vi,Qi="toString",Xi=(""+Ji).split(Qi);li.exports.inspectSource=function(t){return Ji.call(t)},(Ni.exports=function(t,e,r,n){var i="function"==typeof r;i&&(qi(r,"name")||Gi(r,"name",e)),t[e]!==r&&(i&&(qi(r,Wi)||Gi(r,Wi,t[e]?""+t[e]:Xi.join(String(e)))),t===Ki?t[e]=r:n?t[e]?t[e]=r:Gi(t,e,r):(delete t[e],Gi(t,e,r)))})(Function.prototype,Qi,(function(){return"function"==typeof this&&this[Wi]||Ji.call(this)}));var Zi=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},Yi=Zi,ts=function(t,e,r){if(Yi(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},es=ci.exports,rs=li.exports,ns=Fi,is=Ni.exports,ss=ts,os=function(t,e,r){var n,i,s,o,a=t&os.F,c=t&os.G,u=t&os.S,l=t&os.P,f=t&os.B,p=c?es:u?es[e]||(es[e]={}):(es[e]||{}).prototype,h=c?rs:rs[e]||(rs[e]={}),d=h.prototype||(h.prototype={});for(n in c&&(r=e),r)s=((i=!a&&p&&void 0!==p[n])?p:r)[n],o=f&&i?ss(s,es):l&&"function"==typeof s?ss(Function.call,s):s,p&&is(p,n,s,t&os.U),h[n]!=s&&ns(h,n,o),l&&d[n]!=s&&(d[n]=s)};es.core=rs,os.F=1,os.G=2,os.S=4,os.P=8,os.B=16,os.W=32,os.U=64,os.R=128;var as=os,cs={}.toString,us=function(t){return cs.call(t).slice(8,-1)},ls=us,fs=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==ls(t)?t.split(""):Object(t)},ps=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},hs=ps,ds=function(t){return Object(hs(t))},vs=Math.ceil,gs=Math.floor,_s=function(t){return isNaN(t=+t)?0:(t>0?gs:vs)(t)},ys=_s,ms=Math.min,bs=function(t){return t>0?ms(ys(t),9007199254740991):0},Ss=us,As=Array.isArray||function(t){return"Array"==Ss(t)},ws={exports:{}},xs=Mi.exports("wks"),Ts=Ci,ks=ci.exports.Symbol,js="function"==typeof ks;(ws.exports=function(t){return xs[t]||(xs[t]=js&&ks[t]||(js?ks:Ts)("Symbol."+t))}).store=xs;var Os,Bs,Es=hi,Ps=As,Fs=ws.exports("species"),Ns=function(t){var e;return Ps(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Ps(e.prototype)||(e=void 0),Es(e)&&null===(e=e[Fs])&&(e=void 0)),void 0===e?Array:e},Rs=ts,Ls=fs,Ds=ds,Is=bs,Cs=function(t,e){return new(Ns(t))(e)},Ms=function(t,e){var r=1==t,n=2==t,i=3==t,s=4==t,o=6==t,a=5==t||o,c=e||Cs;return function(e,u,l){for(var f,p,h=Ds(e),d=Ls(h),v=Rs(u,l,3),g=Is(d.length),_=0,y=r?c(e,g):n?c(e,0):void 0;g>_;_++)if((a||_ in d)&&(p=v(f=d[_],_,h),t))if(r)y[_]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return _;case 2:y.push(f)}else if(s)return!1;return o?-1:i||s?s:y}},Us=gi,zs=as,$s=Ms(1);zs(zs.P+zs.F*(Bs=!0,!((Os=[].map)&&Us((function(){Bs?Os.call(null,(function(){}),1):Os.call(null)})))),"Array",{map:function(t){return $s(this,t,arguments[1])}});var Hs=hi,Vs=us,Ks=ws.exports("match"),Gs=function(t){var e;return Hs(t)&&(void 0!==(e=t[Ks])?!!e:"RegExp"==Vs(t))},qs=vi,Ws=Zi,Js=ws.exports("species"),Qs=_s,Xs=ps,Zs=function(t){return function(e,r){var n,i,s=String(Xs(e)),o=Qs(r),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(i=s.charCodeAt(o+1))<56320||i>57343?t?s.charAt(o):n:t?s.slice(o,o+2):i-56320+(n-55296<<10)+65536}}(!0),Ys=function(t,e,r){return e+(r?Zs(t,e).length:1)},to=us,eo=ws.exports("toStringTag"),ro="Arguments"==to(function(){return arguments}()),no=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),eo))?r:ro?to(e):"Object"==(n=to(e))&&"function"==typeof e.callee?"Arguments":n},io=no,so=RegExp.prototype.exec,oo=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==io(t))throw new TypeError("RegExp#exec called on incompatible receiver");return so.call(t,e)},ao=vi,co=function(){var t=ao(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},uo=co,lo=RegExp.prototype.exec,fo=String.prototype.replace,po=lo,ho=function(){var t=/a/,e=/b*/g;return lo.call(t,"a"),lo.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),vo=void 0!==/()??/.exec("")[1];(ho||vo)&&(po=function(t){var e,r,n,i,s=this;return vo&&(r=new RegExp("^"+s.source+"$(?!\\s)",uo.call(s))),ho&&(e=s.lastIndex),n=lo.call(s,t),ho&&n&&(s.lastIndex=s.global?n.index+n[0].length:e),vo&&n&&n.length>1&&fo.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n});var go=po;as({target:"RegExp",proto:!0,forced:go!==/./.exec},{exec:go});var _o,yo,mo=Ni.exports,bo=Fi,So=gi,Ao=ps,wo=ws.exports,xo=go,To=wo("species"),ko=!So((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),jo=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}(),Oo=function(t,e,r){var n=wo(t),i=!So((function(){var e={};return e[n]=function(){return 7},7!=""[t](e)})),s=i?!So((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[To]=function(){return r}),r[n](""),!e})):void 0;if(!i||!s||"replace"===t&&!ko||"split"===t&&!jo){var o=/./[n],a=r(Ao,n,""[t],(function(t,e,r,n,s){return e.exec===xo?i&&!s?{done:!0,value:o.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),c=a[0],u=a[1];mo(String.prototype,t,c),bo(RegExp.prototype,n,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}},Bo=Gs,Eo=vi,Po=function(t,e){var r,n=qs(t).constructor;return void 0===n||null==(r=qs(n)[Js])?e:Ws(r)},Fo=Ys,No=bs,Ro=oo,Lo=go,Do=gi,Io=Math.min,Co=[].push,Mo=4294967295,Uo=!Do((function(){RegExp(Mo,"y")}));Oo("split",2,(function(t,e,r,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!Bo(t))return r.call(n,t,e);for(var i,s,o,a=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,l=void 0===e?Mo:e>>>0,f=new RegExp(t.source,c+"g");(i=Lo.call(f,n))&&!((s=f.lastIndex)>u&&(a.push(n.slice(u,i.index)),i.length>1&&i.index<n.length&&Co.apply(a,i.slice(1)),o=i[0].length,u=s,a.length>=l));)f.lastIndex===i.index&&f.lastIndex++;return u===n.length?!o&&f.test("")||a.push(""):a.push(n.slice(u)),a.length>l?a.slice(0,l):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var s=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,s,n):i.call(String(s),r,n)},function(t,e){var s=n(i,t,this,e,i!==r);if(s.done)return s.value;var o=Eo(t),a=String(this),c=Po(o,RegExp),u=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Uo?"y":"g"),f=new c(Uo?o:"^(?:"+o.source+")",l),p=void 0===e?Mo:e>>>0;if(0===p)return[];if(0===a.length)return null===Ro(f,a)?[a]:[];for(var h=0,d=0,v=[];d<a.length;){f.lastIndex=Uo?d:0;var g,_=Ro(f,Uo?a:a.slice(d));if(null===_||(g=Io(No(f.lastIndex+(Uo?0:d)),a.length))===h)d=Fo(a,d,u);else{if(v.push(a.slice(h,d)),v.length===p)return v;for(var y=1;y<=_.length-1;y++)if(v.push(_[y]),v.length===p)return v;d=h=g}}return v.push(a.slice(h)),v}]}));var zo,$o="default",Ho="not_collect",Vo="production",Ko=null==(_o=window)||null==(yo=_o.__KC_LANGUAGES__)?void 0:yo.__ALL__;Ko&&(zo=Ko.map((function(t){return"zh_HK"===t?"zh-hant":"zh_CN"===t?"zh-hans":t.split("_")[0]})));var Go=zo||["de","en","es","fr","ko","nl","pt","ru","tr","vi","zh-hans","zh-hant","it","id","ms","hi","th","ja","bn","pl","fil","ar"],qo=a,Wo=Array.isArray||function(t){return"Array"==qo(t)};xt(xt.S,"Array",{isArray:Wo});var Jo=k.exports.Array.isArray,Qo=k.exports,Xo=Qo.JSON||(Qo.JSON={stringify:JSON.stringify}),Zo=function(t){return Xo.stringify.apply(Xo,arguments)},Yo="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",ta=xt,ea=e,ra=rt,na=Yo,ia="["+na+"]",sa=RegExp("^"+ia+ia+"*"),oa=RegExp(ia+ia+"*$"),aa=function(t,e,r){var n={},i=ra((function(){return!!na[t]()||"​"!="​"[t]()})),s=n[t]=i?e(ca):na[t];r&&(n[r]=s),ta(ta.P+ta.F*i,"String",n)},ca=aa.trim=function(t,e){return t=String(ea(t)),1&e&&(t=t.replace(sa,"")),2&e&&(t=t.replace(oa,"")),t},ua=aa,la=O.exports.parseFloat,fa=ua.trim,pa=xt,ha=1/la(Yo+"-0")!=-1/0?function(t){var e=fa(String(t),3),r=la(e);return 0===r&&"-"==e.charAt(0)?-0:r}:la;pa(pa.G+pa.F*(parseFloat!=ha),{parseFloat:ha});var da=k.exports.parseFloat,va=ci.exports.document,ga=va&&va.documentElement,_a=_s,ya=Math.max,ma=Math.min,ba=function(t,e){return(t=_a(t))<0?ya(t+e,0):ma(t,e)},Sa=as,Aa=ga,wa=us,xa=ba,Ta=bs,ka=[].slice;Sa(Sa.P+Sa.F*gi((function(){Aa&&ka.call(Aa)})),"Array",{slice:function(t,e){var r=Ta(this.length),n=wa(this);if(e=void 0===e?r:e,"Array"==n)return ka.call(this,t,e);for(var i=xa(t,r),s=xa(e,r),o=Ta(s-i),a=new Array(o),c=0;c<o;c++)a[c]="String"==n?this.charAt(i+c):this[i+c];return a}});var ja=no,Oa={};Oa[ws.exports("toStringTag")]="z",Oa+""!="[object z]"&&Ni.exports(Object.prototype,"toString",(function(){return"[object "+ja(this)+"]"}),!0),_i&&"g"!=/./g.flags&&pi.f(RegExp.prototype,"flags",{configurable:!0,get:co});var Ba=vi,Ea=co,Pa=_i,Fa="toString",Na=/./.toString,Ra=function(t){Ni.exports(RegExp.prototype,Fa,t,!0)};gi((function(){return"/a/b"!=Na.call({source:"a",flags:"b"})}))?Ra((function(){var t=Ba(this);return"/".concat(t.source,"/","flags"in t?t.flags:!Pa&&t instanceof RegExp?Ea.call(t):void 0)})):Na.name!=Fa&&Ra((function(){return Na.call(this)}));var La=vi,Da=ds,Ia=bs,Ca=_s,Ma=Ys,Ua=oo,za=Math.max,$a=Math.min,Ha=Math.floor,Va=/\$([$&`']|\d\d?|<[^>]*>)/g,Ka=/\$([$&`']|\d\d?)/g;Oo("replace",2,(function(t,e,r,n){return[function(n,i){var s=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,s,i):r.call(String(s),n,i)},function(t,e){var s=n(r,t,this,e);if(s.done)return s.value;var o=La(t),a=String(this),c="function"==typeof e;c||(e=String(e));var u=o.global;if(u){var l=o.unicode;o.lastIndex=0}for(var f=[];;){var p=Ua(o,a);if(null===p)break;if(f.push(p),!u)break;""===String(p[0])&&(o.lastIndex=Ma(a,Ia(o.lastIndex),l))}for(var h,d="",v=0,g=0;g<f.length;g++){p=f[g];for(var _=String(p[0]),y=za($a(Ca(p.index),a.length),0),m=[],b=1;b<p.length;b++)m.push(void 0===(h=p[b])?h:String(h));var S=p.groups;if(c){var A=[_].concat(m,y,a);void 0!==S&&A.push(S);var w=String(e.apply(void 0,A))}else w=i(_,a,y,m,S,e);y>=v&&(d+=a.slice(v,y)+w,v=y+_.length)}return d+a.slice(v)}];function i(t,e,n,i,s,o){var a=n+t.length,c=i.length,u=Ka;return void 0!==s&&(s=Da(s),u=Va),r.call(o,u,(function(r,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":u=s[o.slice(1,-1)];break;default:var l=+o;if(0===l)return r;if(l>c){var f=Ha(l/10);return 0===f?r:f<=c?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):r}u=i[l-1]}return void 0===u?"":u}))}}));var Ga=hi,qa=vi,Wa=function(t,e){if(qa(t),!Ga(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Ja={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return Wa(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:Wa},Qa=hi,Xa=Ja.set,Za=function(t,e,r){var n,i=e.constructor;return i!==r&&"function"==typeof i&&(n=i.prototype)!==r.prototype&&Qa(n)&&Xa&&Xa(t,n),t},Ya={},tc=fs,ec=ps,rc=function(t){return tc(ec(t))},nc=rc,ic=bs,sc=ba,oc=Mi.exports("keys"),ac=Ci,cc=function(t){return oc[t]||(oc[t]=ac(t))},uc=Li,lc=rc,fc=function(t){return function(e,r,n){var i,s=nc(e),o=ic(s.length),a=sc(n,o);if(t&&r!=r){for(;o>a;)if((i=s[a++])!=i)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===r)return t||a||0;return!t&&-1}}(!1),pc=cc("IE_PROTO"),hc=function(t,e){var r,n=lc(t),i=0,s=[];for(r in n)r!=pc&&uc(n,r)&&s.push(r);for(;e.length>i;)uc(n,r=e[i++])&&(~fc(s,r)||s.push(r));return s},dc="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),vc=hc,gc=dc.concat("length","prototype");Ya.f=Object.getOwnPropertyNames||function(t){return vc(t,gc)};var _c=ci.exports,yc=pi,mc=_i,bc=ws.exports("species"),Sc=ci.exports,Ac=Za,wc=pi.f,xc=Ya.f,Tc=Gs,kc=co,jc=Sc.RegExp,Oc=jc,Bc=jc.prototype,Ec=/a/g,Pc=/a/g,Fc=new jc(Ec)!==Ec;if(_i&&(!Fc||gi((function(){return Pc[ws.exports("match")]=!1,jc(Ec)!=Ec||jc(Pc)==Pc||"/a/i"!=jc(Ec,"i")})))){jc=function(t,e){var r=this instanceof jc,n=Tc(t),i=void 0===e;return!r&&n&&t.constructor===jc&&i?t:Ac(Fc?new Oc(n&&!i?t.source:t,e):Oc((n=t instanceof jc)?t.source:t,n&&i?kc.call(t):e),r?this:Bc,jc)};for(var Nc=function(t){t in jc||wc(jc,t,{configurable:!0,get:function(){return Oc[t]},set:function(e){Oc[t]=e}})},Rc=xc(Oc),Lc=0;Rc.length>Lc;)Nc(Rc[Lc++]);Bc.constructor=jc,jc.prototype=Bc,Ni.exports(Sc,"RegExp",jc)}!function(t){var e=_c[t];mc&&e&&!e[bc]&&yc.f(e,bc,{configurable:!0,get:function(){return this}})}("RegExp");var Dc=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},Ic=vi,Cc=Dc,Mc=oo;Oo("search",1,(function(t,e,r,n){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=n(r,t,this);if(e.done)return e.value;var i=Ic(t),s=String(this),o=i.lastIndex;Cc(o,0)||(i.lastIndex=0);var a=Mc(i,s);return Cc(i.lastIndex,o)||(i.lastIndex=o),null===a?-1:a.index}]}));var Uc=pi.f,zc=Function.prototype,$c=/^\s*function ([^ (]*)/,Hc="name";Hc in zc||_i&&Uc(zc,Hc,{configurable:!0,get:function(){try{return(""+this).match($c)[1]}catch(t){return""}}});var Vc=vi,Kc=bs,Gc=Ys,qc=oo;Oo("match",1,(function(t,e,r,n){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=n(r,t,this);if(e.done)return e.value;var i=Vc(t),s=String(this);if(!i.global)return qc(i,s);var o=i.unicode;i.lastIndex=0;for(var a,c=[],u=0;null!==(a=qc(i,s));){var l=String(a[0]);c[u]=l,""===l&&(i.lastIndex=Gc(s,Kc(i.lastIndex),o)),u++}return 0===u?null:c}]}));var Wc={},Jc={};Jc.f={}.propertyIsEnumerable;var Qc=Jc,Xc=Bi,Zc=rc,Yc=xi,tu=Li,eu=Ai,ru=Object.getOwnPropertyDescriptor;Wc.f=_i?ru:function(t,e){if(t=Zc(t),e=Yc(e,!0),eu)try{return ru(t,e)}catch(t){}if(tu(t,e))return Xc(!Qc.f.call(t,e),t[e])};var nu=as,iu=ps,su=gi,ou="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",au="["+ou+"]",cu=RegExp("^"+au+au+"*"),uu=RegExp(au+au+"*$"),lu=function(t,e,r){var n={},i=su((function(){return!!ou[t]()||"​"!="​"[t]()})),s=n[t]=i?e(fu):ou[t];r&&(n[r]=s),nu(nu.P+nu.F*i,"String",n)},fu=lu.trim=function(t,e){return t=String(iu(t)),1&e&&(t=t.replace(cu,"")),2&e&&(t=t.replace(uu,"")),t},pu=lu,hu=hc,du=dc,vu=Object.keys||function(t){return hu(t,du)},gu=pi,_u=vi,yu=vu,mu=_i?Object.defineProperties:function(t,e){_u(t);for(var r,n=yu(e),i=n.length,s=0;i>s;)gu.f(t,r=n[s++],e[r]);return t},bu=vi,Su=mu,Au=dc,wu=cc("IE_PROTO"),xu=function(){},Tu=function(){var t,e=Si("iframe"),r=Au.length;for(e.style.display="none",ga.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Tu=t.F;r--;)delete Tu.prototype[Au[r]];return Tu()},ku=Object.create||function(t,e){var r;return null!==t?(xu.prototype=bu(t),r=new xu,xu.prototype=null,r[wu]=t):r=Tu(),void 0===e?r:Su(r,e)},ju=ci.exports,Ou=Li,Bu=us,Eu=Za,Pu=xi,Fu=gi,Nu=Ya.f,Ru=Wc.f,Lu=pi.f,Du=pu.trim,Iu="Number",Cu=ju.Number,Mu=Cu,Uu=Cu.prototype,zu=Bu(ku(Uu))==Iu,$u="trim"in String.prototype,Hu=function(t){var e=Pu(t,!1);if("string"==typeof e&&e.length>2){var r,n,i,s=(e=$u?e.trim():Du(e,3)).charCodeAt(0);if(43===s||45===s){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var o,a=e.slice(2),c=0,u=a.length;c<u;c++)if((o=a.charCodeAt(c))<48||o>i)return NaN;return parseInt(a,n)}}return+e};if(!Cu(" 0o1")||!Cu("0b1")||Cu("+0x1")){Cu=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof Cu&&(zu?Fu((function(){Uu.valueOf.call(r)})):Bu(r)!=Iu)?Eu(new Mu(Hu(e)),r,Cu):Hu(e)};for(var Vu,Ku=_i?Nu(Mu):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Gu=0;Ku.length>Gu;Gu++)Ou(Mu,Vu=Ku[Gu])&&!Ou(Cu,Vu)&&Lu(Cu,Vu,Ru(Mu,Vu));Cu.prototype=Uu,Uu.constructor=Cu,Ni.exports(ju,Iu,Cu)}var qu=as,Wu=gi,Ju=ps,Qu=/"/g,Xu=function(t,e,r,n){var i=String(Ju(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(n).replace(Qu,"&quot;")+'"'),s+">"+i+"</"+e+">"};!function(t,e){var r={};r[t]=e(Xu),qu(qu.P+qu.F*Wu((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",r)}("link",(function(t){return function(e){return t(this,"a","href",e)}}));var Zu={},Yu=Array.prototype,tl=Object.prototype,el=Yu.slice,rl=tl.toString,nl=tl.hasOwnProperty,il=Yu.forEach,sl=Jo,ol={};function al(t){this.SensorsABTest=t,this.para=t.para}function cl(t){this.SensorsABTest=t,this.para=t.para}Zu.each=function(t,e,r){if(null==t)return!1;if(il&&t.forEach===il)t.forEach(e,r);else if(Zu.isArray(t)&&t.length===+t.length){for(var n=0,i=t.length;n<i;n++)if(n in t&&e.call(r,t[n],n,t)===ol)return!1}else for(var s in t)if(nl.call(t,s)&&e.call(r,t[s],s,t)===ol)return!1},Zu.extend=function(t){return Zu.each(el.call(arguments,1),(function(e){for(var r in e)nl.call(e,r)&&void 0!==e[r]&&(t[r]=e[r])})),t},Zu.isArray=sl||function(t){return"[object Array]"===rl.call(t)},Zu.isObject=function(t){return null!=t&&"[object Object]"==rl.call(t)},Zu.isElement=function(t){return!(!t||1!==t.nodeType)},Zu.isString=function(t){return"[object String]"==rl.call(t)},Zu.isBoolean=function(t){return"[object Boolean]"==rl.call(t)},Zu.isNumber=function(t){return"[object Number]"==rl.call(t)&&/[\d\.]+/.test(String(t))},Zu.unique=function(t){for(var e,r=[],n={},i=0;i<t.length;i++)(e=t[i])in n||(n[e]=!0,r.push(e));return r},Zu.decodeURIComponent=function(t){var e=t;try{e=decodeURIComponent(t)}catch(r){e=t}return e},Zu.getQueryParam=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t=Zu.decodeURIComponent(t);var r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===r||r&&"string"!=typeof r[1]&&r[1].length?"":Zu.decodeURIComponent(r[1])},Zu.indexOf=function(t,e){var r=t.indexOf;if(r)return r.call(t,e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},Zu.isFunction=function(t){if(!t)return!1;var e=Object.prototype.toString.call(t);return"[object Function]"==e||"[object AsyncFunction]"==e},Zu.isEmptyObject=function(t){if(Zu.isObject(t)){for(var e in t)if(nl.call(t,e))return!1;return!0}return!1},Zu.map=function(t,e){var r=[];return null==t?r:Array.prototype.map&&t.map===Array.prototype.map?t.map(e):(Zu.each(t,(function(t,n,i){r.push(e(t,n,i))})),r)},Zu.base64Decode=function(t){var e=Zu.map(atob(t).split(""),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}));return decodeURIComponent(e.join(""))},Zu.getURLSearchParams=function(t){for(var e=function(t){return decodeURIComponent(t)},r={},n=(t=t||"").substring(1).split("&"),i=0;i<n.length;i++){var s=n[i].indexOf("=");if(-1!==s){var o=n[i].substring(0,s),a=n[i].substring(s+1);o=e(o),a=e(a),r[o]=a}}return r},Zu.urlParse=function(t){var e=function(t){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==t&&this._parse(t)};return e.prototype.setUrl=function(t){this._parse(t)},e.prototype._initValues=function(){for(var t in this._fields)this._values[t]=""},e.prototype.addQueryString=function(t){if("object"!=typeof t)return!1;var e=this._values.QueryString||"";for(var r in t)e=new RegExp(r+"[^&]+").test(e)?e.replace(new RegExp(r+"[^&]+"),r+"="+t[r]):"&"===e.slice(-1)?e+r+"="+t[r]:""===e?r+"="+t[r]:e+"&"+r+"="+t[r];this._values.QueryString=e},e.prototype.getUrl=function(){var t="";return t+=this._values.Origin,t+=this._values.Port?":"+this._values.Port:"",t+=this._values.Path,(t+=this._values.QueryString?"?"+this._values.QueryString:"")+(this._values.Fragment?"#"+this._values.Fragment:"")},e.prototype.getUrl=function(){var t="";return t+=this._values.Origin,t+=this._values.Port?":"+this._values.Port:"",(t+=this._values.Path)+(this._values.QueryString?"?"+this._values.QueryString:"")},e.prototype._parse=function(t){this._initValues();var e=this._regex.exec(t);for(var r in e||Zu.log("DPURLParser::_parse -> Invalid URL"),this._fields)void 0!==e[this._fields[r]]&&(this._values[r]=e[this._fields[r]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname},new e(t)},Zu.URL=function(t){var e,r={};if("function"==typeof window.URL&&function(){try{return"http://modernizr.com/"===new URL("http://modernizr.com/").href}catch(t){return!1}}())(r=new URL(t)).searchParams||(r.searchParams=(e=Zu.getURLSearchParams(r.search),{get:function(t){return e[t]}}));else{!1===/^https?:\/\/.+/.test(t)&&Zu.log("Invalid URL");var n=Zu.urlParse(t);r.hash="",r.host=n._values.Host?n._values.Host+(n._values.Port?":"+n._values.Port:""):"",r.href=n._values.URL,r.password=n._values.Password,r.pathname=n._values.Path,r.port=n._values.Port,r.search=n._values.QueryString?"?"+n._values.QueryString:"",r.username=n._values.Username,r.hostname=n._values.Hostname,r.protocol=n._values.Protocol?n._values.Protocol+":":"",r.origin=n._values.Origin?n._values.Origin+(n._values.Port?":"+n._values.Port:""):"",r.searchParams=function(){var t=Zu.getURLSearchParams("?"+n._values.QueryString);return{get:function(e){return t[e]}}}()}return r},Zu.getQueryParam=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t=Zu.decodeURIComponent(t);var r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===r||r&&"string"!=typeof r[1]&&r[1].length?"":Zu.decodeURIComponent(r[1])},Zu.isEmptyObject=function(t){if(Zu.isObject(t)){for(var e in t)if(nl.call(t,e))return!1;return!0}return!1},Zu.contentLoaded=function(t,e){var r=!1,n=!0,i=t.document,s=i.documentElement,o=i.addEventListener,a=o?"addEventListener":"attachEvent",c=o?"removeEventListener":"detachEvent",u=o?"":"on",l=function n(s){"readystatechange"==s.type&&"complete"!=i.readyState||(("load"==s.type?t:i)[c](u+s.type,n,!1),!r&&(r=!0)&&e.call(t,s.type||s))};if("complete"==i.readyState)e.call(t,"lazy");else{if(!o&&s.doScroll){try{n=!t.frameElement}catch(t){}n&&function t(){try{s.doScroll("left")}catch(e){return void setTimeout(t,50)}l("poll")}()}i[a](u+"DOMContentLoaded",l,!1),i[a](u+"readystatechange",l,!1),t[a](u+"load",l,!1)}},Zu.secCheck={isHttpUrl:function(t){return"string"==typeof t&&(!1!==/^https?:\/\/.+/.test(t)||(Zu.log("Invalid URL"),!1))},removeScriptProtocol:function(t){if("string"!=typeof t)return"";for(var e=/^\s*javascript/i;e.test(t);)t=t.replace(e,"");return t}},Zu.addEvent=function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation,e._getPath=t._getPath),e}t._getPath=function(){var t=this;return this.path||this.composedPath&&this.composedPath()||function(){try{var e=t.target,r=[e];if(null===e||null===e.parentElement)return[];for(;null!==e.parentElement;)e=e.parentElement,r.unshift(e);return r}catch(t){return[]}}()},t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(e,r,n){if(e&&e.addEventListener)e.addEventListener(r,(function(e){e._getPath=t._getPath,n.call(this,e)}),!0);else{var i="on"+r,s=e[i];e[i]=function(e,r,n){return function(i){if(i=i||t(window.event)){i.target=i.srcElement;var s,o,a=!0;return"function"==typeof n&&(s=n(i)),o=r.call(e,i),!1!==s&&!1!==o||(a=!1),a}}}(e,n,s)}}.apply(null,arguments)},Zu.addSinglePageEvent=function(t){var e=location.href,r=window.history.pushState,n=window.history.replaceState;window.history.pushState=function(){r.apply(window.history,arguments),t(e),e=location.href},window.history.replaceState=function(){n.apply(window.history,arguments),t(e),e=location.href};var i=r?"popstate":"hashchange";Zu.addEvent(window,i,(function(){t(e),e=location.href}))},Zu.trim=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},Zu.checkUrlIsMatch=function(t,e){var r,n,i=Zu.URL(t);if("STRICT"===e)return location.href===i.href;if("FUZZY"===e){try{r=Zu.URL(location.href)}catch(t){return Zu.log("url 解析失败",t),!1}try{n=Zu.URL(t)}catch(t){return Zu.log("control_url 解析失败",t),!1}return r.host===n.host&&r.pathname===n.pathname}return Zu.log("link_match_type字段异常",e),!1},Zu.checkUrlIsRegexp=function(t,e){var r;try{r=Zu.URL(location.href)}catch(t){return Zu.log("url 解析失败",t),!1}try{var n=(e?new RegExp(t,e):new RegExp(t)).exec(r.href),i=!0;return!!n&&(Zu.each(n,(function(t){t||(i=!1)})),i)}catch(t){return Zu.log("control_link字段异常",t),!1}},Zu.log=function(){if("object"==typeof console&&console.log){Zu.isString(arguments[0])&&(arguments[0]="sensorsabtest————"+arguments[0]);try{return console.log.apply(console,arguments)}catch(t){console.log(arguments[0])}}},Zu.error=function(){if("object"==typeof console&&console.error)try{return console.error.apply(console,arguments)}catch(t){console.error(arguments[0])}},Zu.storage={isSupport:function(){var t=!0;try{var e="__sensorsdatasupport__",r="testIsSupportStorage";window.localStorage.setItem(e,r),window.localStorage.getItem(e)!==r&&(t=!1),window.localStorage.removeItem(e)}catch(e){t=!1}return t},set:function(t,e){this.isSupport()&&window.localStorage.setItem(e,t)},get:function(t){var e=null;return this.isSupport()&&(e=window.localStorage.getItem(t)),e}},al.prototype={init:function(t){if(!this.setPara(t))return!1;this.bridgeState="ab_no_host_bridge",/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?this.SensorsABTest.state.platform="H5":this.SensorsABTest.state.platform="Web",this.SensorsABTest.log("A/B Testing SDK 初始化成功，试验 URL：",t.url),this.SensorsABTest.checkSADebug(),this.SensorsABTest.store.init(this.getResultFromServer,this)},setPara:function(t){if(!Zu.isString(t.url)||"http"!==t.url.slice(0,4))return this.SensorsABTest.log("A/B Testing SDK 初始化失败，请使用正确的 URL！"),!1;if("https"===location.protocol.slice(0,5)&&"http:"===t.url.slice(0,5))return this.SensorsABTest.log("A/B Testing SDK 初始化失败，https 页面必须使用 https 的 URL"),!1;var e=Zu.getQueryParam(t.url,"project-key");if(!e)return this.SensorsABTest.log("A/B Testing SDK 初始化失败，请使用正确的 URL（必须包含 project-key）！"),!1;t.project_key=e;var r=this.SensorsABTest.verifyStore.para("A/B Testing SDK 初始化",t,{timeout_milliseconds:"not_essential"});return this.SensorsABTest.para=Zu.extend({},this.SensorsABTest.default_para,r.para),Zu.isBoolean(this.SensorsABTest.para.collect_bridge_status)||(this.SensorsABTest.para.collect_bridge_status=!0),Zu.isNumber(this.SensorsABTest.para.update_interval)||(this.SensorsABTest.para.update_interval=6e5),!0===this.SensorsABTest.sd.para.encrypt_cookie&&(this.SensorsABTest.para.encrypt_cookie=!0),this.SensorsABTest.sd.para.sdk_id&&(this.SensorsABTest.state.storage.name+="_"+this.SensorsABTest.sd.para.sdk_id),!0},asyncFetch:function(t){var e=this;this.SensorsABTest.normalStore.getResultFromServer({para:t,suc:function(r){if(Zu.isObject(r)&&"SUCCESS"===r.status){var n=e.SensorsABTest.getExpResult(t);t.callback(n)}else t.callback(t.default_value)},err:function(){t.callback(t.default_value)}})},creatRequestData:function(t){var e="";Zu.isEmptyObject(this.SensorsABTest.sd.store._state)||(e=this.SensorsABTest.sd.store._state._first_id||this.SensorsABTest.sd.store._state.first_id||this.SensorsABTest.sd.store._state._distinct_id||this.SensorsABTest.sd.store._state.distinct_id);var r={anonymous_id:e,platform:this.SensorsABTest.state.platform,abtest_lib_version:this.SensorsABTest.lib_version,properties:{$is_first_day:this.SensorsABTest.sd._.cookie.getNewUser()}};return Zu.isObject(t.properties)&&(r.properties=Zu.extend({},r.properties,t.properties)),this.SensorsABTest.sd.store._state.first_id&&(r.login_id=this.SensorsABTest.sd.store.getDistinctId()),r},getResultFromServer:function(t){var e,r=this,n=(t=Zu.isObject(t)?t:{}).para||{},i=t.suc,s=t.err,o=this.creatRequestData(n);this.SensorsABTest.log("向服务端发起试验请求"),e=r.SensorsABTest.sd.store.getDistinctId(),r.SensorsABTest.sd._.ajax({url:r.SensorsABTest.para.url,type:"POST",data:Zo(o),credentials:!1,contentType:"application/json",timeout:n.timeout_milliseconds||r.SensorsABTest.para.timeout_milliseconds,cors:!0,success:function(t){r.SensorsABTest.dealResponseData(t,e),i&&i(t),r.SensorsABTest.fetchData.setNextFetch()},error:function(t){r.SensorsABTest.log("服务端请求发送失败",t),s&&s(),r.SensorsABTest.fetchData.setNextFetch()}})}},al.prototype.methods={asyncFetchABTest:function(t){if(!Zu.isObject(t))return Zu.error("asyncFetchABTest调用失败，参数未正确配置"),!1;var e=this.SensorsABTest.verifyStore.para("asyncFetchABTest",t,{param_name:"essential",value_type:"essential",default_value:"essential",callback:"essential",timeout_milliseconds:"not_essential",properties:"not_essential"});e.verify_success&&(t=e.para,this.SensorsABTest.normalStore.asyncFetch(t))},fastFetchABTest:function(t){if(!Zu.isObject(t))return Zu.error("fastFetchABTest调用失败，参数未正确配置"),!1;var e=this.SensorsABTest.verifyStore.para("fastFetchABTest",t,{param_name:"essential",value_type:"essential",default_value:"essential",callback:"essential",timeout_milliseconds:"not_essential",properties:"not_essential"});if(e.verify_success){t=e.para;var r=this.SensorsABTest.searchLocalExp(t.param_name);if(Zu.isObject(r)){var n=this.SensorsABTest.getExpResult(t,r);t.callback(n)}else this.SensorsABTest.log("fastFetchABTest缓存中未读取到数据，发起请求"),this.SensorsABTest.normalStore.asyncFetch(t)}},fetchCacheABTest:function(t){if(Zu.isObject(t)){var e=this.SensorsABTest.verifyStore.para("fetchCacheABTest",t,{param_name:"essential",value_type:"essential",default_value:"essential"});if(e.verify_success)return this.SensorsABTest.getExpResult(e.para)}else Zu.error("fetchCacheABTest调用失败，参数未正确配置")}},cl.prototype={init:function(t){var e=this;if(this.SensorsABTest.state.storage.name="sawebjssdkabtest_bridge",!this.setPara(t))return!1;this.SensorsABTest.log("A/B Testing SDK 初始化成功"),this.abBridge=new this.SensorsABTest.sd.JSBridge({type:"abtest",app_call_js:function(t){try{t=Zu.base64Decode(t)}catch(r){e.SensorsABTest.log("App数据base64解码异常",t)}try{(t=JSON.parse(t)).message_id&&this.double(t)}catch(r){e.SensorsABTest.log("App数据解析异常",t)}}}),Zu.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_abtest_module&&this.abBridge.hasAppBridge()||Zu.isObject(window.SensorsData_APP_New_H5_Bridge)&&Zu.isFunction(window.SensorsData_APP_New_H5_Bridge.sensorsdata_abtest_module)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_abtest_module()&&this.abBridge.hasAppBridge()?this.SensorsABTest.bridgeState="ab_bridge_ok":this.SensorsABTest.bridgeState="ab_no_abtest_bridge",this.SensorsABTest.store.init(this.getResultFromApp,this)},setPara:function(t){var e=this.SensorsABTest.verifyStore.para("打通初始化",t,{timeout_milliseconds:"not_essential"});return this.SensorsABTest.para=Zu.extend({},this.SensorsABTest.default_para,e.para),Zu.isBoolean(this.SensorsABTest.para.collect_bridge_status)||(this.SensorsABTest.para.collect_bridge_status=!0),Zu.isNumber(this.SensorsABTest.para.update_interval)||(this.SensorsABTest.para.update_interval=6e5),!0===this.SensorsABTest.sd.para.encrypt_cookie&&(this.SensorsABTest.para.encrypt_cookie=!0),this.SensorsABTest.sd.para.sdk_id&&(this.SensorsABTest.state.storage.name+="_"+this.SensorsABTest.sd.para.sdk_id),!0},getResultFromApp:function(t){var e=this,r=(t=Zu.isObject(t)?t:{}).para||{},n=t.suc,i=t.err,s=r.timeout_milliseconds||this.SensorsABTest.para.timeout_milliseconds;this.SensorsABTest.log("向App发起试验请求"),"ab_bridge_ok"===e.SensorsABTest.bridgeState?e.abBridge.requestToApp({data:{properties:r.properties,timeout:s,request_body:{origin_platform:"H5"}},callback:function(t){Zu.isObject(t)&&Zu.isObject(t.data)?(e.SensorsABTest.log("成功获取到 App 端返回的试验数据","data:",t),e.SensorsABTest.dealResponseData(t.data),n&&n(t)):(e.SensorsABTest.log("App 端请求失败"),i&&i()),e.SensorsABTest.fetchData.setNextFetch()},timeout:{time:s,callback:function(){e.SensorsABTest.log("获取App端数据失败"),i&&i(),e.SensorsABTest.fetchData.setNextFetch()}}}):i&&(e.SensorsABTest.log("A/B Testing 打通失败，",e.SensorsABTest.bridgeState),i())},asyncFetch:function(t){var e=this;this.SensorsABTest.bridgeStore.getResultFromApp({para:t,suc:function(r){if(Zu.isObject(r.properties)&&(t.properties=Zu.extend(r.properties,t.properties)),"SUCCESS"===r.data.status){var n=e.SensorsABTest.getExpResult(t);t.callback(n)}else t.callback(t.default_value)},err:function(){t.callback(t.default_value)}})}},cl.prototype.methods={asyncFetchABTest:function(t){if(!Zu.isObject(t))return Zu.error("asyncFetchABTest调用失败，参数未正确配置"),!1;var e=this.SensorsABTest.verifyStore.para("asyncFetchABTest",t,{param_name:"essential",value_type:"essential",default_value:"essential",callback:"essential",timeout_milliseconds:"not_essential",properties:"not_essential"});e.verify_success&&(t=e.para,"ab_bridge_ok"===this.SensorsABTest.bridgeState?this.SensorsABTest.bridgeStore.asyncFetch(t):t.callback(t.default_value))},fastFetchABTest:function(t){if(!Zu.isObject(t))return Zu.error("fastFetchABTest调用失败，参数未正确配置"),!1;var e=this.SensorsABTest.verifyStore.para("fastFetchABTest",t,{param_name:"essential",value_type:"essential",default_value:"essential",callback:"essential",timeout_milliseconds:"not_essential",properties:"not_essential"});if(e.verify_success){t=e.para;var r=this.SensorsABTest.searchLocalExp(t.param_name);if(Zu.isObject(r)){var n=this.SensorsABTest.getExpResult(t,r);t.callback(n)}else this.SensorsABTest.log("fastFetchABTest缓存中未读取到数据，发起请求"),"ab_bridge_ok"===this.SensorsABTest.bridgeState?this.SensorsABTest.bridgeStore.asyncFetch(t):t.callback(t.default_value)}},fetchCacheABTest:function(t){if(Zu.isObject(t)){var e=this.SensorsABTest.verifyStore.para("fetchCacheABTest",t,{param_name:"essential",value_type:"essential",default_value:"essential"});if(e.verify_success)return this.SensorsABTest.getExpResult(e.para)}else Zu.error("fetchCacheABTest调用失败，参数未正确配置")}};var ul="dfm-enc-";function ll(t){var e="t6KJCZa5pDdQ9khoEM3Tj70fbP2eLSyc4BrsYugARqFIw1mzlGNVXOHiWvxUn8",r=e.length-1,n={},i=0;for(i=0;i<e.length;i++)n[e.charAt(i)]=e.charAt(r-i);var s="";for(i=0;i<t.length;i++)t.charAt(i)in n?s+=n[t.charAt(i)]:s+=t.charAt(i);return s}function fl(t){this.SensorsABTest=t}function pl(t){var e=Zu.storage.get(t);Zu.isString(e)&&(e=function(t){return 0===t.indexOf(ul)&&(t=ll(t=t.substring(ul.length))),t}(e));try{e=JSON.parse(e)}catch(t){Zu.log(t)}return e}function hl(t,e,r){t=Zo(t),r&&(t=function(t){return ul+ll(t)}(t)),Zu.storage.set(t,e)}function dl(t){this.attr_name="sa-abtest-"+t,this.remove_timer=null,this.is_added=!1,this.is_abort=!1,this.is_timeout=!1,this.style_element=null,this.createMaskStyle()}function vl(t){this.SensorsABTest=t,this.isFirst=!0,this.start_time=null,this.mask_instance=null,this.is_filtered_out=!1,this.para={timeout:500,use_mask:!0,pass_params:!0,control_link_search:"default",experiment_link_search:"default"}}function gl(t,e){t=t||window;var r=!1,n=!0,i=t.document,s=i.documentElement,o=i.addEventListener,a=o?"addEventListener":"attachEvent",c=o?"removeEventListener":"detachEvent",u=o?"":"on",l=function n(s){"readystatechange"==s.type&&"complete"!=i.readyState||(("load"==s.type?t:i)[c](u+s.type,n,!1),!r&&(r=!0)&&e.call(t,s.type||s))};if("complete"==i.readyState)e.call(t,"lazy");else{if(!o&&s.doScroll){try{n=!t.frameElement}catch(t){}n&&function t(){try{s.doScroll("left")}catch(e){return void setTimeout(t,50)}l("poll")}()}i[a](u+"DOMContentLoaded",l,!1),i[a](u+"readystatechange",l,!1),t[a](u+"load",l,!1)}}function _l(t,e){if(!t||!t.parentNode||!t.parentNode.children)return!1;e=e&&e.join?e:[];var r=t.nodeName.toLowerCase();return t&&"body"!==r&&1==t.nodeType?(e.unshift(function(t){var e=t.parentNode&&9==t.parentNode.nodeType?-1:function(t){if(!t.parentNode)return-1;for(var e=0,r=t.tagName,n=t.parentNode.children,i=0;i<n.length;i++)if(n[i].tagName===r){if(t===n[i])return e;e++}return-1}(t);return t.getAttribute&&t.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(t.getAttribute("id"))?"#"+t.getAttribute("id"):t.tagName.toLowerCase()+(~e?":nth-of-type("+(e+1)+")":"")}(t)),t.getAttribute&&t.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(t.getAttribute("id"))?e.join(" > "):_l(t.parentNode,e)):(e.unshift("body"),e.join(" > "))}function yl(t,e){return t.currentStyle?t.currentStyle[e]:t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function ml(t){var e=t.childNodes,r="",n=!1;return Zu.each(e,(function(t){!1===n&&3===t.nodeType&&(Zu.isString(t.textContent)||Zu.isString(t.innerText)||Zu.isString(t.nodeValue))&&(r=Zu.trim(t.textContent||t.innerText||t.nodeValue||""),n=!0)})),r}function bl(t,e){var r=function(){var t,e={},r=navigator.userAgent.toLowerCase();return(t=r.match(/opera.([\d.]+)/))?e.opera=Number(t[1].split(".")[0]):(t=r.match(/msie ([\d.]+)/))?e.ie=Number(t[1].split(".")[0]):(t=r.match(/edge.([\d.]+)/))?e.edge=Number(t[1].split(".")[0]):(t=r.match(/firefox\/([\d.]+)/))?e.firefox=Number(t[1].split(".")[0]):(t=r.match(/chrome\/([\d.]+)/))?e.chrome=Number(t[1].split(".")[0]):(t=r.match(/version\/([\d.]+).*safari/))?e.safari=Number(t[1].match(/^\d*.\d*/)):(t=r.match(/trident\/([\d.]+)/))&&(e.ie=11),e}(),n=r.ie&&r.ie<9,i="";if(Zu.each(e,(function(t,e){n&&t.indexOf("rgba")>-1&&(t=function(t){var e=t.match(/[\d.]+/g);return e.length>=3?"rgb("+e[0]+","+e[1]+","+e[2]+")":""}(t));var r=e.replace(/[A-Z]+/g,(function(t){return"-"+t.toLowerCase()}));i+=";"+r+": "+t})),""!==i){var s,o,a=t.style,c=a.cssText||"";!c||(";",(o=(s=c).length-";".length)>=0&&s.indexOf(";",o)==o)||(c+=";"),a.cssText=c+i}}function Sl(t,e,r){if(r||(r=function(t,e){var r=e.originProps,n={attributes:{}},i=r.attributes;return Zu.each(i.style||{},(function(e,r){n.attributes.style[r]=yl(t,r)})),Object.hasOwnProperty.call(r,"text")&&(n.attributes.text=ml(t)),Zu.each(["src","href"],(function(e){Object.hasOwnProperty.call(i,e)&&(n.attributes[e]=t[e])})),Object.hasOwnProperty.call(i,"target")&&(n.attributes.target=t.getAttribute("target")),n}(t,e)),function(t,e){var r=t.originProps,n=e.originProps,i=r.attributes,s=n.attributes,o=!0;return r.text&&r.text!==n.text&&(o=!1),i&&Zu.each(["src","href","target"],(function(t){i[t]&&i[t]!==s[t]&&(o=!1)})),o}(e,r)){var n=e.props;Zu.isObject(n)&&Al(t,n)}}function Al(t,e){if(Object.hasOwnProperty.call(e,"attributes")){var r=e.attributes;Object.hasOwnProperty.call(r,"style")&&bl(t,r.style),Zu.each(["href","target","src"],(function(e){Object.hasOwnProperty.call(r,e)&&function(t,e,r){t.setAttribute(e,r)}(t,e,r[e])}))}Object.hasOwnProperty.call(e,"text")&&function(t,e){var r=t.childNodes,n=!1;Zu.each(r,(function(t){3===t.nodeType&&(n||(t.textContent?t.textContent=e:t.innerText?t.innerText=e:t.nodeValue=e,n=!0))}))}(t,e.text)}function wl(t,e){!function(t){t=Zu.extend({success:function(){},error:function(){},appendCall:function(t){document.getElementsByTagName("head")[0].appendChild(t)}},t);var e=null;"css"===t.type&&((e=document.createElement("link")).rel="stylesheet",e.href=t.url),"js"===t.type&&((e=document.createElement("script")).async="async",e.setAttribute("charset","UTF-8"),e.src=t.url,e.type="text/javascript"),t.id&&(e.id=t.id),e.onload=e.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t.success(),e.onload=e.onreadystatechange=null)},e.onerror=function(){t.error(),e.onerror=null},t.appendCall(e)}(Zu.extend({success:function(){},error:function(){},type:"js",url:t},e))}function xl(t,e){var r=t.tagName.toLowerCase(),n=function(t,e){var r={};return Zu.each(e||[],(function(e){var n=e.replace(/[A-Z]+/g,(function(t){return"-"+t.toLowerCase()}));r[e]=yl(t,n)})),r}(t,e),i={selector:_l(t),originProps:{attributes:{style:n},text:ml(t)},type:"text",tagName:r};return"a"===r&&(i.originProps.attributes.href=t.href,t.getAttribute("target")&&(i.originProps.attributes.target=t.getAttribute("target")),i.type="link"),"img"===r&&(i.originProps.attributes.src=t.src,i.type="img"),{originStyle:t.getAttribute("style"),eleInfo:i,ele:t}}function Tl(t){var e=t.eleInfo,r=t.ele;if(r){var n=t.originStyle;Al(r,e.originProps),r.style.cssText=n||""}}function kl(t){this.SensorsABTest=t,this.enable_visualize=!1,this.vabtest_url=location.protocol+"//static.sensorsdata.cn/sdk/plugin/vabtest/"+this.SensorsABTest.lib_version+"/vabtest.min.js",this.timeout=500,this.is_editor=!1,this.use_mask=!0,this.originData=[],this.visualExp=null,this.isFirst=!0,this.start_time=null,this.is_have_observer=!1,this.imgLoadingList=[],this.isTrigger=!1}function jl(){this.lib_version="0.1.0",this.para={},this.default_para={url:"",path:"",project_key:"",timeout_milliseconds:3e3,update_interval:6e5,collect_bridge_status:!0,session_limit:6e5,encrypt_cookie:!1},this.state={platform:"",storage:{name:"sawebjssdkabtest"}},this.bridgeState="",this.localdata={},this.originalData=[],this.triggerList={},this.updateTime=null,this.sd=null,this.link=new vl(this),this.vabtest=new kl(this),this.normalStore=new al(this),this.bridgeStore=new cl(this),this.verifyStore=new fl(this)}function Ol(t){this.SensorsABTest=t}function Bl(t){this.SensorsABTest=t}fl.prototype={value_type_list:["Number","String","Object","Boolean"],valueType:function(t,e){switch(e){case"Number":if(Zu.isNumber(t))return!0;break;case"String":if(Zu.isString(t))return!0;break;case"Object":if(Zu.isObject(t))return!0;break;case"Boolean":if(!0===t||!1===t)return!0;break;default:return!1}return!1},para:function(t,e,r){var n=this,i={verify_success:!0,para:null};return Zu.each(r,(function(r,s){if("essential"===r)switch(s){case"param_name":Zu.isString(e.param_name)&&e.param_name.length>0||(Zu.error(t+"方法调用失败，param_name参数未正确配置！param_name:",e.param_name),i.verify_success=!1);break;case"value_type":Zu.isString(e.value_type)&&-1!==Zu.indexOf(n.value_type_list,e.value_type)||(Zu.error(t+"方法调用失败，value_type配置错误",e.value_type),i.verify_success=!1);break;case"default_value":void 0===e.default_value?(Zu.error(t+"方法调用失败，default_value参数未配置"),i.verify_success=!1):n.valueType(e.default_value,e.value_type)||(Zu.error(t+"方法调用失败，default_value类型必须与value_type一致！",e.default_value,e.value_type),i.verify_success=!1);break;case"callback":Zu.isFunction(e.callback)||(Zu.error(t+"方法调用失败，callback参数未正确配置"),i.verify_success=!1);break;default:i.verify_success=!1}else if("not_essential"===r)switch(s){case"timeout_milliseconds":e.timeout_milliseconds=e.timeout_milliseconds||n.SensorsABTest.para.timeout_milliseconds||n.SensorsABTest.default_para.timeout_milliseconds,(!Zu.isNumber(e.timeout_milliseconds)||Zu.isNumber(e.timeout_milliseconds)&&e.timeout_milliseconds<=0)&&(Zu.error("timeout_milliseconds 参数错误",e.timeout_milliseconds),e.timeout_milliseconds=n.SensorsABTest.para.timeout_milliseconds),e.timeout_milliseconds<200&&(e.timeout_milliseconds=200);break;case"properties":e.properties=Zu.isObject(e.properties)?e.properties:{}}})),i.para=e,i}},dl.prototype={createMaskStyle:function(){var t="["+this.attr_name+"],["+this.attr_name+"] body{opacity:0 !important;-khtml-opacity:0 !important;-moz-opacity:0;filter:alpha(opacity=0);}",e=document.createElement("style");e.type="text/css";try{e.appendChild(document.createTextNode(t))}catch(r){e.styleSheet.cssText=t}try{this.style_element=e,document.getElementsByTagName("head")[0].appendChild(e)}catch(t){Zu.log("error when create calls")}},show:function(t){try{var e=this;if(this.is_abort)return!1;var r=null;if(r=document.getElementsByTagName("html")[0],!Zu.isElement(r))return;r.setAttribute(this.attr_name,"1"),this.is_added=!0,Zu.isNumber(t)&&(this.remove_timer=setTimeout((function(){e.is_timeout=!0,e.remove()}),t))}catch(t){Zu.log("error when show calls")}},remove:function(){try{if(this.is_abort||(this.is_abort=!0),this.is_added){this.is_added=!1;var t=null;if(t=document.getElementsByTagName("html")[0],!Zu.isElement(t))return;t.removeAttribute(this.attr_name),this.style_element&&(document.getElementsByTagName("head")[0].removeChild(this.style_element),this.style_element=null)}this.remove_timer&&(clearTimeout(this.remove_timer),this.remove_timer=null)}catch(t){Zu.log("error when remove calls")}}},vl.prototype.init=function(t){return this.initPara(t),this.para?Zu.getQueryParam(location.href,"saSDKMultilink")?(this.is_filtered_out=!0,!1):(this.start_time=(new Date).getTime(),this.para.use_mask&&this.initMask(),void this.addSinglePageListener()):(this.SensorsABTest.log("multilink is closed"),!1)},vl.prototype.addSinglePageListener=function(){var t=this;Zu.addSinglePageEvent((function(e){return e!==location.href&&(t.is_filtered_out=!1,t.isFirst=!0,t.mask_instance&&t.mask_instance.remove(),Zu.getQueryParam(location.href,"saSDKMultilink")?(t.is_filtered_out=!0,!1):(t.start_time=(new Date).getTime(),t.para.use_mask&&t.initMask(),void t.resolve(t.SensorsABTest.originalData)))}))},vl.prototype.initMask=function(){this.mask_instance=new dl("link_"+this.SensorsABTest.sd.para.sdk_id),this.mask_instance.show(this.para.timeout)},vl.prototype.initPara=function(t){if(Zu.isFunction(t))try{t=t()}catch(t){return this.SensorsABTest.log("link para error!"),void(this.para=!1)}!1===t?this.para=!1:Zu.isObject(t)&&(this.para.timeout=Zu.isNumber(t.timeout)&&t.timeout>=0?t.timeout:500,this.para.use_mask=Zu.isBoolean(t.use_mask)?t.use_mask:this.para.use_mask,this.para.control_link_search=Zu.isString(t.control_link_search)?t.control_link_search:"default",this.para.experiment_link_search=Zu.isString(t.experiment_link_search)?t.experiment_link_search:"default",this.para.pass_params=!Zu.isBoolean(t.pass_params)||t.pass_params)},vl.prototype.resolve=function(t){var e=this;if(!this.para)return!1;if(!Zu.isArray(t))return!1;if(this.is_filtered_out)return!1;if(!this.isFirst)return!1;if(this.isFirst=!1,0===this.para.timeout)return!1;if((new Date).getTime()-this.start_time>this.para.timeout)return this.SensorsABTest.log("The multilink was stopped because the request timeout"),!1;var r=!1;Zu.each(t,(function(t){return!!Zu.isObject(t)&&!r&&"LINK"===t.experiment_type&&void(e.isTriggerLinkExp(t)&&(r=!0,e.redirectUrl(t)))})),!r&&this.para.use_mask&&this.mask_instance&&this.mask_instance.remove()},vl.prototype.stopTrigger=function(){this.isFirst=!1,this.SensorsABTest.log("The multilink was stopped because the request failed"),this.para.use_mask&&this.mask_instance&&this.mask_instance.remove()},vl.prototype.isTriggerLinkExp=function(t){return Zu.isString(t.control_link)&&Zu.isString(t.link_match_type)?"REGEXP"===t.link_match_type?!!Zu.checkUrlIsRegexp(t.control_link,t.regexp_flags)||(this.SensorsABTest.log("多链接试验匹配失败",t.abtest_experiment_id),!1):!!Zu.checkUrlIsMatch(t.control_link,t.link_match_type)||(this.SensorsABTest.log("多链接试验匹配失败",t.abtest_experiment_id),!1):(this.SensorsABTest.log("多链接试验数据异常",t.abtest_experiment_id),!1)},vl.prototype.redirectUrl=function(t){if(t.experiment_link&&Zu.isString(t.experiment_link))if(!0!==t.is_control_group||"STRICT"!==t.link_match_type&&"REGEXP"!==t.link_match_type){var e,r,n=location.href,i=t.experiment_link;if("REGEXP"===t.link_match_type&&/\$\d+/.test(i)){var s=t.regexp_flags?new RegExp(t.control_link,t.regexp_flags):new RegExp(t.control_link);i=n.replace(s,i)}this.para.pass_params?(r=this.getMergedUrl(t.is_control_group,i,n),e=o(r)):(r=this.getMergedUrl(t.is_control_group,i),e=o(r)),e&&(this.SensorsABTest.triggerHandle(t)?setTimeout((function(){location.href=e}),80):setTimeout((function(){location.href=e}),0),this.mask_instance&&this.mask_instance.remove_timer&&clearTimeout(this.mask_instance.remove_timer))}else this.SensorsABTest.triggerHandle(t);else this.SensorsABTest.log("页面跳转失败，experiment_link字段异常",t.abtest_experiment_id);function o(t){return Zu.secCheck.isHttpUrl(t)?Zu.secCheck.removeScriptProtocol(t):(this.SensorsABTest.log("非法URL"),!1)}},vl.prototype.getMergedUrl=function(t,e,r){var n="",i="",s="",o={parse_url:null,search:""},a={parse_url:null,search:"",hash:""};function c(t){var e=/([^?#]+)(\?[^#]*)?(#.*)?/.exec(t);if(e)return{host:e[1]||"",search:e[2]||"",hash:e[3]||""}}if(!r||(o.parse_url=c(r),o.parse_url)){if(a.parse_url=c(e),a.parse_url)return r&&("after_hash"===this.para.control_link_search?o.search=u(o.parse_url.hash).search:o.search=o.parse_url.search),t?"after_hash"===this.para.control_link_search?(a.search=u(a.parse_url.hash).search,a.hash=u(a.parse_url.hash).hash):a.search=a.parse_url.search:"after_hash"===this.para.experiment_link_search?(a.search=u(a.parse_url.hash).search,a.hash=u(a.parse_url.hash).hash):a.search=a.parse_url.search,i=r?this.getSearchStr(o.search,a.search):this.getSearchStr(a.search),t&&"after_hash"===this.para.control_link_search||!t&&"after_hash"===this.para.experiment_link_search?n=a.hash.length>0?a.parse_url.host+a.parse_url.search+a.hash+i:a.parse_url.search.length>0?a.parse_url.host+a.parse_url.search+"&"+i.substring(1):a.parse_url.host+i:(s="after_hash"===this.para.control_link_search?a.parse_url.hash:r?a.parse_url.hash||o.parse_url.hash:a.parse_url.hash,n=a.parse_url.host+i+s),n;this.SensorsABTest.log("url 解析失败",e)}else this.SensorsABTest.log("url 解析失败",r);function u(t){var e={hash:"",search:""};if(!Zu.isString(t))return e;var r=t.indexOf("?");return r>-1?(e.search=t.slice(r),e.hash=t.slice(0,r)):e.hash=t,e}},vl.prototype.getSearchStr=function(t,e){function r(t){var e={};if(!t||!t.length||0!==t.indexOf("?"))return e;if(!(t=t.slice(1)).length)return e;for(var r=t.split("&"),n=0;n<r.length;n++)if(r[n].indexOf("=")<0)e[r[n]]=null;else{var i=r[n].split("=");e[i[0]]=i[1]}return e}var n=r(t),i=r(e),s=Zu.extend(n,i),o="";if(Zu.isEmptyObject(s))return"?saSDKMultilink=true";var a=!0;for(var c in s)a?(o+="?",a=!1):o+="&",null!==s[c]?o=o+c+"="+s[c]:o+=c;return o+"&saSDKMultilink=true"},window.MutationObserver||(window.MutationObserver=function(t){function e(t){this._watched=[],this._listener=t}function r(e){var r={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(var n in e)d(r,n)&&e[n]!==t&&(r[n]=e[n]);return r}function n(e,n){var i=a(e,n);return function(s){var u,l=s.length;n.charData&&3===e.nodeType&&e.nodeValue!==i.charData&&s.push(new r({type:"characterData",target:e,oldValue:i.charData})),n.attr&&i.attr&&o(s,e,i.attr,n.afilter),(n.kids||n.descendents)&&(u=function(e,n,i,s){var a;function u(t,n,i,a,c){for(var u,f,p,h=t.length-1,d=-~((h-c)/2);p=t.pop();)u=i[p.i],f=a[p.j],s.kids&&d&&Math.abs(p.i-p.j)>=h&&(e.push(r({type:"childList",target:n,addedNodes:[u],removedNodes:[u],nextSibling:u.nextSibling,previousSibling:u.previousSibling})),d--),s.attr&&f.attr&&o(e,u,f.attr,s.afilter),s.charData&&3===u.nodeType&&u.nodeValue!==f.charData&&e.push(r({type:"characterData",target:u,oldValue:f.charData})),s.descendents&&l(u,f)}function l(n,i){for(var p,d,v,g,_,y,m,b=n.childNodes,S=i.kids,A=b.length,w=S?S.length:0,x=0,T=0,k=0;T<A||k<w;)(y=b[T])===(m=(_=S[k])&&_.node)?(s.attr&&_.attr&&o(e,y,_.attr,s.afilter),s.charData&&_.charData!==t&&y.nodeValue!==_.charData&&e.push(r({type:"characterData",target:y,oldValue:_.charData})),d&&u(d,n,b,S,x),s.descendents&&(y.childNodes.length||_.kids&&_.kids.length)&&l(y,_),T++,k++):(a=!0,p||(p={},d=[]),y&&(p[v=f(y)]||(p[v]=!0,-1===(g=c(S,y,k))?s.kids&&(e.push(r({type:"childList",target:n,addedNodes:[y],nextSibling:y.nextSibling,previousSibling:y.previousSibling})),x++):d.push({i:T,j:g})),T++),m&&m!==b[T]&&(p[v=f(m)]||(p[v]=!0,-1===(g=h(b,m,T))?s.kids&&(e.push(r({type:"childList",target:i.node,removedNodes:[m],nextSibling:S[k+1],previousSibling:S[k-1]})),x--):d.push({i:g,j:k})),k++));d&&u(d,n,b,S,x)}return l(n,i),a}(s,e,i,n)),(u||s.length!==l)&&(i=a(e,n))}}e._period=30,e.prototype={observe:function(t,r){for(var i,s={attr:!!(r.attributes||r.attributeFilter||r.attributeOldValue),kids:!!r.childList,descendents:!!r.subtree,charData:!(!r.characterData&&!r.characterDataOldValue)},o=this._watched,a=0;a<o.length;a++)o[a].tar===t&&o.splice(a,1);r.attributeFilter&&(s.afilter=p(r.attributeFilter,(function(t,e){return t[e]=!0,t}),{})),o.push({tar:t,fn:n(t,s)}),this._timeout||(i=this,function t(){var r=i.takeRecords();r.length&&i._listener(r,i),i._timeout=setTimeout(t,e._period)}())},takeRecords:function(){for(var t=[],e=this._watched,r=0;r<e.length;r++)e[r].fn(t);return t},disconnect:function(){this._watched=[],clearTimeout(this._timeout),this._timeout=null}};var i=document.createElement("i");i.style.top=0;var s=(i="null"!=i.attributes.style.value)?function(t,e){return e.value}:function(t,e){return"style"!==e.name?e.value:t.style.cssText};function o(t,e,n,i){for(var o,a,c={},u=e.attributes,l=u.length;l--;)a=(o=u[l]).name,i&&!d(i,a)||(s(e,o)!==n[a]&&t.push(r({type:"attributes",target:e,attributeName:a,oldValue:n[a],attributeNamespace:o.namespaceURI})),c[a]=!0);for(a in n)c[a]||t.push(r({target:e,type:"attributes",attributeName:a,oldValue:n[a]}))}function a(t,e){var r=!0;return function t(n){var i={node:n};return!e.charData||3!==n.nodeType&&8!==n.nodeType?(e.attr&&r&&1===n.nodeType&&(i.attr=p(n.attributes,(function(t,r){return e.afilter&&!e.afilter[r.name]||(t[r.name]=s(n,r)),t}),{})),r&&(e.kids||e.charData||e.attr&&e.descendents)&&(i.kids=function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=e(t[n],n,t);return r}(n.childNodes,t)),r=e.descendents):i.charData=n.nodeValue,i}(t)}function c(t,e,r){return h(t,e,r,"node")}var u=1,l="mo_id";function f(t){try{return t.id||(t[l]=t[l]||u++)}catch(e){try{return t.nodeValue}catch(t){return u++}}}function p(t,e,r){for(var n=0;n<t.length;n++)r=e(r,t[n],n,t);return r}function h(t,e,r,n){for(;r<t.length;r++)if((n?t[r][n]:t[r])===e)return r;return-1}function d(e,r){return e[r]!==t}return e}(void 0)),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),r=this,n=function(){},i=function(){return r.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i}),kl.prototype.init=function(t){var e=this;this.initPara(t),!1!==this.enable_visualize&&(window.self!==window.top&&function(){if(!window.name)return!1;try{var t=JSON.parse(decodeURIComponent(window.name||"")),e=t.is_vabtesting,r=t.source_url,n=t.link_match_type;return!(!0!==e||!Zu.checkUrlIsMatch(r,n))||(Zu.log("A/B Testing SDK 页面地址，与当前实验 URL 不匹配，请使用正确的 URL！"),!1)}catch(t){return!1}}()?(this.is_editor=!0,document.getElementById("sa-abtesting-vabtest-script")||wl(this.vabtest_url,{id:"sa-abtesting-vabtest-script",success:function(){setTimeout((function(){e.SensorsABTest.sd.use("VABTest",{SensorsABTest:e.SensorsABTest})}),0)}})):(this.start_time=(new Date).getTime(),this.use_mask&&this.initMask(),this.addSinglePageListener()))},kl.prototype.initPara=function(t){if(Zu.isFunction(t))try{t=t()}catch(t){return this.SensorsABTest.log("ABTesting SDK  !"),void(this.para=!1)}if(Zu.isObject(t)){Object.prototype.hasOwnProperty.call(t,"enable_visualize")&&Zu.isBoolean(t.enable_visualize)?this.enable_visualize=t.enable_visualize:this.SensorsABTest.log("ABTesting SDK 初始化参数 enable_visualize 格式不正确。 类型应为 Boolean"),this.use_mask=Zu.isBoolean(t.use_mask)?t.use_mask:this.use_mask,this.timeout=Zu.isNumber(t.timeout)&&t.timeout>=0?t.timeout:this.timeout;var e=Zu.isString(t.vabtest_url)?t.vabtest_url:"";e&&("https:"===location.protocol?"https:"===e.slice(0,6)?this.vabtest_url=e:this.SensorsABTest.log("ABTesting SDK 初始化参数 vabtest_url 协议头应设置为 https"):"http:"===e.slice(0,5)||"https:"===e.slice(0,6)?this.vabtest_url=e:this.SensorsABTest.log("ABTesting SDK 初始化参数 vabtest_url 应设置为有效 URL"))}else this.para=!1},kl.prototype.resolve=function(t){if(!1!==this.enable_visualize&&!0!==this.is_editor&&!1!==this.isFirst){if((new Date).getTime()-this.start_time>this.timeout)return this.SensorsABTest.log("请求实验结果超时，A/B 可视化实验失败！"),!1;var e=this;this.isFirst=!1;var r=!1;Zu.each(t,(function(t){if(!Zu.isObject(t)||"VISUAL"!==t.experiment_type)return!1;if(r)return!1;var n=t.experiment_value;if(!Zu.isArray(n))try{n=JSON.parse(t.experiment_value),t.experiment_value=n}catch(t){return!1}e.isTriggerVisualExp(t)&&(r=!0,e.prepareResource(t,e.render.bind(e)),e.visualExp=t)})),!r&&this.use_mask&&this.destroyMask(),gl(window,(function(){!function(t){new window.MutationObserver(t).observe(document.body,{childList:!0,subtree:!0})}(e.observerCallback.bind(e))}))}},kl.prototype.initMask=function(){this.mask_instance=new dl("vabtest_"+this.SensorsABTest.sd.para.sdk_id),this.mask_instance.show(this.timeout)},kl.prototype.destroyMask=function(){this.mask_instance&&this.mask_instance.remove()},kl.prototype.prepareResource=function(t,e){var r=this,n=t.experiment_value;Zu.isArray(n)&&(Zu.each(n,(function(n){var i=n.tagName,s=n.props;if("img"===i&&s&&s.attributes&&Zu.isString(s.attributes.src)){var o=s.attributes.src;r.imgLoadingList.push(o);var a=document.createElement("img");a.width=1,a.height=1,a.onload=c,a.onerror=c,a.onabort=c,a.src=s.attributes.src}function c(){var n=r.imgLoadingList.indexOf(o);n>-1&&r.imgLoadingList.splice(n,1),0===r.imgLoadingList.length&&e(t)}})),0===this.imgLoadingList.length&&e(t))},kl.prototype.render=function(t){var e=this;gl(window,(function(){if(e.use_mask&&e.mask_instance&&!0===e.mask_instance.is_timeout)e.SensorsABTest.log("渲染实验结果超时，A/B 可视化实验失败！");else{e.isTrigger||(e.SensorsABTest.triggerHandle(t),e.isTrigger=!0);var r=t.experiment_value;Zu.isArray(r)&&Zu.each(r,(function(t){var r=function(t){if(!Zu.isString(t))return null;var e,r=t.split(">");return(e=function t(e){var n,i=r.shift();if(!i)return e;try{n=function(t,e){var r;if("body"===(t=Zu.trim(t)))return document.getElementsByTagName("body")[0];if(0===t.indexOf("#"))t=t.slice(1),r=document.getElementById(t);else if(t.indexOf(":nth-of-type")>-1){var n=t.split(":nth-of-type");if(!n[0]||!n[1])return null;var i=n[0],s=n[1].match(/\(([0-9]+)\)/);if(!s||!s[1])return null;var o=Number(s[1]);if(!(Zu.isElement(e)&&e.children&&e.children.length>0))return null;for(var a=e.children,c=0;c<a.length;c++)if(Zu.isElement(a[c])&&a[c].tagName.toLowerCase()===i&&0==--o){r=a[c];break}if(o>0)return null}return r||null}(i,e)}catch(t){n=null}return n&&Zu.isElement(n)?t(n):null}())&&Zu.isElement(e)?e:null}(t.selector);if(r)try{var n=xl(r,[]);Sl(r,t,n.eleInfo),e.originData.push(n)}catch(t){}})),e.use_mask&&e.destroyMask()}}))},kl.prototype.restoreElements=function(){Zu.each(this.originData,(function(t){Tl(t)})),this.visualExp=null,this.isFirst=!0,this.start_time=(new Date).getTime(),this.originData=[],this.isTrigger=!1},kl.prototype.addSinglePageListener=function(){var t=this;Zu.addSinglePageEvent((function(e){if(e===location.href)return!1;t.mask_instance&&t.destroyMask(),t.start_time=(new Date).getTime(),t.use_mask&&t.initMask(),t.restoreElements(),t.resolve(t.SensorsABTest.originalData)}))},kl.prototype.observerCallback=function(){this.visualExp&&(Zu.each(this.originData,(function(t){Tl(t)})),this.originData=[],this.render(this.visualExp))},kl.prototype.stopTrigger=function(){this.isFirst=!1,this.SensorsABTest.log("请求实验结果失败，A/B 可视化实验失败！"),this.use_mask&&this.destroyMask()},kl.prototype.isTriggerVisualExp=function(t){return Zu.isString(t.control_link)&&Zu.isString(t.link_match_type)?!!Zu.checkUrlIsMatch(t.control_link,t.link_match_type)||(this.SensorsABTest.log("可视化试验匹配失败",t.abtest_experiment_id),!1):(this.SensorsABTest.log("可视化试验数据异常",t.abtest_experiment_id),!1)},jl.prototype.asyncFetchABTest=function(){Zu.error("asyncFetchABTest调用失败,A/B Testing未初始化")},jl.prototype.fastFetchABTest=function(){Zu.error("fastFetchABTest调用失败,A/B Testing未初始化")},jl.prototype.etchCacheABTest=function(){Zu.error("fetchCacheABTest调用失败,A/B Testing未初始化")},jl.prototype.searchLocalExp=function(t){return this.localdata[t]?this.localdata[t]:null},jl.prototype.getExpResult=function(t,e){var r=t.default_value,n=e||this.searchLocalExp(t.param_name);return Zu.isObject(n)?Zu.isObject(n.js_config)&&(n.js_config.type===t.value_type?(r=n.js_config.value,this.triggerHandle(n,t)):this.log("试验结果类型与代码期望类型不一致，param_name："+t.param_name+"，当前返回类型为："+n.js_config.type+"，代码期望类型为："+t.value_type)):this.log("localdata未查询到试验数据，试验参数名称："+t.param_name),r},jl.prototype.resolveVariables=function(t){this.localdata={};var e=this;Zu.each(t,(function(t){if(Zu.isObject(t)&&t.variables&&Zu.isArray(t.variables)){if(t.experiment_type&&"CODE"!==t.experiment_type)return!1;Zu.each(t.variables,(function(r){Zu.isObject(r)&&!e.localdata[r.name]&&(e.localdata[r.name]={abtest_experiment_id:t.abtest_experiment_id,abtest_experiment_group_id:t.abtest_experiment_group_id,is_control_group:t.is_control_group,is_white_list:t.is_white_list,value:r.value,type:r.type,js_config:e.getRelativeValue(r.value,r.type),experiment_type:t.experiment_type})}))}}))},jl.prototype.getRelativeValue=function(t,e){var r=this,n={},i={INTEGER:function(t){var e=da(t);isNaN(e)?r.log("原始数据 INTEGER 类型解析异常",t):(n.value=e,n.type="Number")},STRING:function(t){Zu.isString(t)?(n.value=t,n.type="String"):r.log("原始数据 STRING 类型解析异常",t)},JSON:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=JSON.parse(t);Zu.isObject(e)?(n.value=e,n.type="Object"):r.log("原始数据 JSON 类型解析异常",t)})),BOOLEAN:function(t){"true"===t?(n.value=!0,n.type="Boolean"):"false"===t?(n.value=!1,n.type="Boolean"):r.log("原始数据 BOOLEAN 类型解析异常",t)}};try{i[e]?i[e](t):r.log("试验数据类型解析失败",e,t)}catch(n){r.log(n,t,e)}return n},jl.prototype.dealResponseData=function(t,e){Zu.isObject(t)?"SUCCESS"===t.status?Zu.isArray(t.results)&&(this.originalData=t.results,this.updateLocalData(t.results,e)):"FAILED"===t.status&&this.log("获取试验失败：error_type："+t.error_type+",error："+t.error):this.log("试验数据解析失败，response ：",t)},jl.prototype.updateLocalData=function(t,e){this.analyzeData(t),this.updateStorage(e),this.log("更新试验数据成功")},jl.prototype.updateStorage=function(t){var e=(new Date).getTime();hl({data:this.originalData,updateTime:e,triggerList:this.triggerList,distinct_id:t||this.sd.store.getDistinctId()},this.state.storage.name,this.para.encrypt_cookie),this.updateTime=e},jl.prototype.analyzeData=function(t){if(!Zu.isArray(t))return this.log("解析——数据格式错误",t),!1;this.link.resolve(t),this.vabtest.resolve(t),this.resolveVariables(t)},jl.prototype.triggerHandle=function(t,e){var r=Zu.isObject(e)&&Zu.isObject(e.properties)?e.properties:{},n=this.trackTestTrigger(t,r),i=t.abtest_experiment_id;if(Zu.isString(i)){var s=this.sd.store.getDistinctId();this.triggerList[s]&&Zu.isArray(this.triggerList[s])?(this.triggerList[s].push(i),this.triggerList[s]=Zu.unique(this.triggerList[s])):this.triggerList[s]=[i],this.updateStorage()}return n},jl.prototype.trackTestTrigger=function(t,e){var r=this.sd.store.getDistinctId(),n=!0,i=!0;if(e=Zu.isObject(e)?e:{},!t.is_white_list){this.triggerList&&Zu.isObject(this.triggerList)&&("{}"!==Zo(this.triggerList)&&(i=!1),this.triggerList[r]&&Zu.isArray(this.triggerList[r])&&Zu.each(this.triggerList[r],(function(e){e===t.abtest_experiment_id&&(n=!1)})));var s={$abtest_experiment_id:t.abtest_experiment_id,$abtest_experiment_group_id:t.abtest_experiment_group_id};if(this.para.collect_bridge_status&&(s.$sdk_bridge_status=this.bridgeState),i){var o="web_abtesting:"+this.lib_version;s.$lib_plugin_version=[o]}var a=Zu.extend(s,e);return n&&this.sd.track("$ABTestTrigger",a),this.sd.track("WebABTestTrigger",a),n}},jl.prototype.checkSADebug=function(){var t=this,e=Zu.getQueryParam(location.href,"sensors_abtest_url"),r=Zu.getQueryParam(location.href,"feature_code"),n=+Zu.getQueryParam(location.href,"account_id");if(e.length&&r.length&&Zu.isNumber(n)&&0!==n){var i={distinct_id:this.sd.store.getDistinctId(),feature_code:r,account_id:n};this.sd._.ajax({url:e,type:"POST",data:Zo(i),credentials:!1,contentType:"application/json",timeout:this.para.timeout_milliseconds,cors:!0,success:function(){},error:function(e){t.log("distinct_id发送失败,err:",e)}})}},jl.prototype.initMethods=function(t){var e=this;Zu.each(["asyncFetchABTest","fastFetchABTest","fetchCacheABTest"],(function(r){e[r]=function(){t.methods[r].apply(t,arguments)}}))},Ol.prototype={timer:null,method:null,context:null,init:function(t,e){this.method=t,this.context=e,this.start(!0)},getServerData:function(t){var e=this;t?this.method.call(this.context,{suc:function(r){t&&("ab_bridge_ok"===e.SensorsABTest.bridgeState&&(r=r.data),Zu.isObject(r)&&"SUCCESS"===r.status&&Zu.isArray(r.results)||(e.SensorsABTest.link.stopTrigger(),e.SensorsABTest.vabtest.stopTrigger()))},err:function(){t&&(e.SensorsABTest.link.stopTrigger(),e.SensorsABTest.vabtest.stopTrigger())}}):this.method.call(this.context)},setNextFetch:function(t){var e=this,r=t||this.SensorsABTest.para.update_interval;this.clearFetchTimer(this.timer),this.timer=setTimeout((function(){e.getServerData()}),r)},start:function(t){var e=null,r=(new Date).getTime(),n=pl(this.SensorsABTest.state.storage.name),i=this.SensorsABTest.sd.store.getDistinctId();if(n&&Zu.isObject(n)&&n.distinct_id===i)if(e=n.updateTime,t&&(this.SensorsABTest.originalData=n.data,e&&Zu.isNumber(e)&&r-e>0&&r-e<this.SensorsABTest.para.session_limit&&Zu.isObject(n.triggerList)&&(this.SensorsABTest.triggerList=n.triggerList),this.SensorsABTest.analyzeData(n.data)),e&&Zu.isNumber(e)&&r-e>0&&r-e<this.SensorsABTest.para.update_interval){this.SensorsABTest.log("数据不更新",e,r);var s=r-e,o=this.SensorsABTest.para.update_interval-s;this.setNextFetch(o)}else this.SensorsABTest.log("缓存数据超时",e,r),this.getServerData(t);else(e=this.SensorsABTest.updateTime)&&Zu.isNumber(e)&&r-e>0&&r-e<this.SensorsABTest.para.update_interval?this.SensorsABTest.log("数据不更新",e,r):this.getServerData(t)},stop:function(){this.SensorsABTest.log("清空拉取定时器"),this.clearFetchTimer()},clearFetchTimer:function(){clearTimeout(this.timer),this.timer=null}},Bl.prototype={init:function(t,e){var r=this;this.SensorsABTest.fetchData.init(t,e),this.SensorsABTest.initMethods(e),function(t){({visibleHandle:Zu.isFunction(t.visible)?t.visible:function(){},hiddenHandler:Zu.isFunction(t.hidden)?t.hidden:function(){},visibilityChange:null,hidden:null,isSupport:function(){return void 0!==document[this.hidden]},init:function(){void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.listen()},listen:function(){if(this.isSupport()){var t=this;document.addEventListener(t.visibilityChange,(function(){document[t.hidden]?t.hiddenHandler():t.visibleHandle()}),1)}else document.addEventListener?(window.addEventListener("focus",this.visibleHandle,1),window.addEventListener("blur",this.hiddenHandler,1)):(document.attachEvent("onfocusin",this.visibleHandle),document.attachEvent("onfocusout",this.hiddenHandler))}}).init()}({visible:function(){r.SensorsABTest.log("页面显示"),r.SensorsABTest.fetchData.start()},hidden:function(){r.SensorsABTest.fetchData.stop()}}),this.SensorsABTest.sd.events.on("changeDistinctId",(function(t){r.SensorsABTest.localdata={},r.SensorsABTest.originalData=[],r.SensorsABTest.vabtest.restoreElements(),r.SensorsABTest.updateStorage(),r.SensorsABTest.fetchData.getServerData()})),this.SensorsABTest.sd.events.isReady()}},jl.prototype.init=function(t,e){return this.sd?(this.log("A/B Testing SDK 重复初始化！只有第一次初始化有效！"),!1):function(t){return Zu.isObject(t)&&Zu.isObject(t.readyState)&&t.readyState.state>=3?t:null}(t)?(this.sd=t,Zu.isObject(e)?(Zu.storage.isSupport()||this.log("localstorage异常"),this.abtestingPara=e,this.fetchData=new Ol(this),this.store=new Bl(this),void this.initTest()):(this.log("A/B Testing SDK 初始化失败，请传入正确的初始化参数!para:",e),!1)):(this.log("A/B Testing 初始化失败,Web JS SDK 没有初始化完成"),!1)},jl.prototype.initTest=function(){this.link.init(this.abtestingPara.multilink),this.vabtest.init(this.abtestingPara.visualize),this.sd.bridge.is_verify_success?this.bridgeStore.init(this.abtestingPara):this.normalStore.init(this.abtestingPara)},jl.prototype.log=function(){return Zu.isString(arguments[0])&&(arguments[0]="sensorsabtest————"+arguments[0]),this.sd&&this.sd.log.apply(this,arguments)};var El=new jl;El.__constructor__=jl,window.SensorsDataWebJSSDKPlugin&&"[object Object]"==Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.SensorsABTest=window.SensorsDataWebJSSDKPlugin.SensorsABTest||El:window.SensorsDataWebJSSDKPlugin={SensorsABTest:El};var Pl="",Fl="",Nl=function(){return Fl},Rl=function(t){Pl=t},Ll=ws.exports("unscopables"),Dl=Array.prototype;null==Dl[Ll]&&Fi(Dl,Ll,{});var Il=as,Cl=Ms(5),Ml="find",Ul=!0;function zl(t,e){void 0===e&&(e={});for(var r=function(t){for(var e=[],r=0;r<t.length;){var n=t[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)e.push({type:"CHAR",index:r,value:t[r++]});else{var i=1,s="";if("?"===t[a=r+1])throw new TypeError('Pattern cannot start with "?" at '+a);for(;a<t.length;)if("\\"!==t[a]){if(")"===t[a]){if(0==--i){a++;break}}else if("("===t[a]&&(i++,"?"!==t[a+1]))throw new TypeError("Capturing groups are not allowed at "+a);s+=t[a++]}else s+=t[a++]+t[a++];if(i)throw new TypeError("Unbalanced pattern at "+r);if(!s)throw new TypeError("Missing pattern at "+r);e.push({type:"PATTERN",index:r,value:s}),r=a}else{for(var o="",a=r+1;a<t.length;){var c=t.charCodeAt(a);if(!(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||95===c))break;o+=t[a++]}if(!o)throw new TypeError("Missing parameter name at "+r);e.push({type:"NAME",index:r,value:o}),r=a}else e.push({type:"CLOSE",index:r,value:t[r++]});else e.push({type:"OPEN",index:r,value:t[r++]});else e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});else e.push({type:"MODIFIER",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}(t),n=e.prefixes,i=void 0===n?"./":n,s="[^"+$l(e.delimiter||"/#?")+"]+?",o=[],a=0,c=0,u="",l=function(t){if(c<r.length&&r[c].type===t)return r[c++].value},f=function(t){var e=l(t);if(void 0!==e)return e;var n=r[c],i=n.type,s=n.index;throw new TypeError("Unexpected "+i+" at "+s+", expected "+t)},p=function(){for(var t,e="";t=l("CHAR")||l("ESCAPED_CHAR");)e+=t;return e};c<r.length;){var h=l("CHAR"),d=l("NAME"),v=l("PATTERN");if(d||v){var g=h||"";-1===i.indexOf(g)&&(u+=g,g=""),u&&(o.push(u),u=""),o.push({name:d||a++,prefix:g,suffix:"",pattern:v||s,modifier:l("MODIFIER")||""})}else{var _=h||l("ESCAPED_CHAR");if(_)u+=_;else if(u&&(o.push(u),u=""),l("OPEN")){g=p();var y=l("NAME")||"",m=l("PATTERN")||"",b=p();f("CLOSE"),o.push({name:y||(m?a++:""),pattern:y&&!m?s:m,prefix:g,suffix:b,modifier:l("MODIFIER")||""})}else f("END")}}return o}function $l(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Hl(t){return t&&t.sensitive?"":"i"}function Vl(t,e,r){return function(t,e,r){void 0===r&&(r={});for(var n=r.strict,i=void 0!==n&&n,s=r.start,o=void 0===s||s,a=r.end,c=void 0===a||a,u=r.encode,l=void 0===u?function(t){return t}:u,f="["+$l(r.endsWith||"")+"]|$",p="["+$l(r.delimiter||"/#?")+"]",h=o?"^":"",d=0,v=t;d<v.length;d++){var g=v[d];if("string"==typeof g)h+=$l(l(g));else{var _=$l(l(g.prefix)),y=$l(l(g.suffix));if(g.pattern)if(e&&e.push(g),_||y)if("+"===g.modifier||"*"===g.modifier){var m="*"===g.modifier?"?":"";h+="(?:"+_+"((?:"+g.pattern+")(?:"+y+_+"(?:"+g.pattern+"))*)"+y+")"+m}else h+="(?:"+_+"("+g.pattern+")"+y+")"+g.modifier;else h+="("+g.pattern+")"+g.modifier;else h+="(?:"+_+y+")"+g.modifier}}if(c)i||(h+=p+"?"),h+=r.endsWith?"(?="+f+")":"$";else{var b=t[t.length-1],S="string"==typeof b?p.indexOf(b[b.length-1])>-1:void 0===b;i||(h+="(?:"+p+"(?="+f+"))?"),S||(h+="(?="+p+"|"+f+")")}return new RegExp(h,Hl(r))}(zl(t,r),e,r)}function Kl(t,e,r){return t instanceof RegExp?function(t,e){if(!e)return t;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,i=r.exec(t.source);i;)e.push({name:i[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),i=r.exec(t.source);return t}(t,e):Array.isArray(t)?function(t,e,r){var n=t.map((function(t){return Kl(t,e,r).source}));return new RegExp("(?:"+n.join("|")+")",Hl(r))}(t,e,r):Vl(t,e,r)}Ml in[]&&Array(1).find((function(){Ul=!1})),Il(Il.P+Il.F*Ul,"Array",{find:function(t){return Cl(this,t,arguments.length>1?arguments[1]:void 0)}}),function(t){Dl[Ll][t]=!0}(Ml);var Gl=function(){return window.navigator.userAgent.indexOf("KuCoin")>-1},ql=function(t){return!!Jo(t)&&!!t.some((function(t){return Jo(t)}))};function Wl(){}const Jl="%[a-f0-9]{2}",Ql=new RegExp("("+Jl+")|([^%]+?)","gi"),Xl=new RegExp("("+Jl+")+","gi");function Zl(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(1===t.length)return t;e=e||1;const r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Zl(r),Zl(n))}function Yl(t){try{return decodeURIComponent(t)}catch{let e=t.match(Ql)||[];for(let r=1;r<e.length;r++)t=Zl(e,r).join(""),e=t.match(Ql)||[];return t}}function tf(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return function(t){const e={"%FE%FF":"��","%FF%FE":"��"};let r=Xl.exec(t);for(;r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{const t=Yl(r[0]);t!==r[0]&&(e[r[0]]=t)}r=Xl.exec(t)}e["%C2"]="�";const n=Object.keys(e);for(const r of n)t=t.replace(new RegExp(r,"g"),e[r]);return t}(t)}}function ef(t,e){if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===t||""===e)return[];const r=t.indexOf(e);return-1===r?[]:[t.slice(0,r),t.slice(r+e.length)]}function rf(t,e){const r={};if(Array.isArray(e))for(const n of e){const e=Object.getOwnPropertyDescriptor(t,n);e?.enumerable&&Object.defineProperty(r,n,e)}else for(const n of Reflect.ownKeys(t)){const i=Object.getOwnPropertyDescriptor(t,n);if(i.enumerable){e(n,t[n],t)&&Object.defineProperty(r,n,i)}}return r}const nf=Symbol("encodeFragmentIdentifier");function sf(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function of(t,e){return e.encode?e.strict?encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)):encodeURIComponent(t):t}function af(t,e){return e.decode?tf(t):t}function cf(t){return Array.isArray(t)?t.sort():"object"==typeof t?cf(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function uf(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function lf(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function ff(t){const e=(t=uf(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function pf(t,e){sf((e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e}).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),e?void 0!==n[t]?n[t]=[...n[t],r]:n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[...n[t],r]:n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.includes(t.arrayFormatSeparator),s="string"==typeof r&&!i&&af(r,t).includes(t.arrayFormatSeparator);r=s?af(r,t):r;const o=i||s?r.split(t.arrayFormatSeparator).map((e=>af(e,t))):null===r?r:af(r,t);n[e]=o};case"bracket-separator":return(e,r,n)=>{const i=/(\[])$/.test(e);if(e=e.replace(/\[]$/,""),!i)return void(n[e]=r?af(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>af(e,t)));void 0!==n[e]?n[e]=[...n[e],...s]:n[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[...[r[t]].flat(),e]:r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){if(""===i)continue;const t=e.decode?i.replace(/\+/g," "):i;let[s,o]=ef(t,"=");void 0===s&&(s=t),o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:af(o,e),r(af(s,e),o,n)}for(const[t,r]of Object.entries(n))if("object"==typeof r&&null!==r)for(const[t,n]of Object.entries(r))r[t]=lf(n,e);else n[t]=lf(r,e);return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=cf(r):t[e]=r,t}),Object.create(null))}function hf(t,e){if(!t)return"";sf((e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e}).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[of(e,t),"[",i,"]"].join("")]:[...r,[of(e,t),"[",of(i,t),"]=",of(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[of(e,t),"[]"].join("")]:[...r,[of(e,t),"[]=",of(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[of(e,t),":list="].join("")]:[...r,[of(e,t),":list=",of(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[of(r,t),e,of(i,t)].join("")]:[[n,of(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,of(e,t)]:[...r,[of(e,t),"=",of(n,t)].join("")]}}(e),i={};for(const[e,n]of Object.entries(t))r(e)||(i[e]=n);const s=Object.keys(i);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const i=t[r];return void 0===i?"":null===i?of(r,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?of(r,e)+"[]":i.reduce(n(r),[]).join("&"):of(r,e)+"="+of(i,e)})).filter((t=>t.length>0)).join("&")}function df(t,e){e={decode:!0,...e};let[r,n]=ef(t,"#");return void 0===r&&(r=t),{url:r?.split("?")?.[0]??"",query:pf(ff(t),e),...e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:af(n,e)}:{}}}function vf(t,e){e={encode:!0,strict:!0,[nf]:!0,...e};const r=uf(t.url).split("?")[0]||"";let n=hf({...pf(ff(t.url),{sort:!1}),...t.query},e);n&&(n=`?${n}`);let i=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);if(t.fragmentIdentifier){const n=new URL(r);n.hash=t.fragmentIdentifier,i=e[nf]?n.hash:`#${t.fragmentIdentifier}`}return`${r}${n}${i}`}function gf(t,e,r){r={parseFragmentIdentifier:!0,[nf]:!1,...r};const{url:n,query:i,fragmentIdentifier:s}=df(t,r);return vf({url:n,query:rf(i,e),fragmentIdentifier:s},r)}var _f=Object.freeze({__proto__:null,extract:ff,parse:pf,stringify:hf,parseUrl:df,stringifyUrl:vf,pick:gf,exclude:function(t,e,r){const n=Array.isArray(e)?t=>!e.includes(t):(t,r)=>!e(t,r);return gf(t,n,r)}});function yf(t){if("string"!=typeof t)return"";try{var e=new URL(t,window.location.origin);return window.btoa(e.pathname)}catch(e){return window.btoa(t)}}function mf(t,e){if(!e)return!1;try{var r=yf(t);return!!r&&sessionStorage.setItem(r,e)}catch(t){console.warn("Sorry, the browser’s storage space is full. To ensure the normal usage, please visit Tools > Clear Recent History > Cookies and select All in Time Range to release the storage space.")}return!1}function bf(t){var e=yf(t);return sessionStorage.getItem(e)}var Sf=Object.freeze({__proto__:null,saveSpm2SessionStorage:mf,getSavedSpm:bf,initSpmParam:function(t){var e=_f.parseUrl(t,{parseFragmentIdentifier:!0}).query;e.spm&&mf(t,e.spm)}}),Af="",wf={},xf=function(){return console.warn("[kc sensors]: invalid spm argument, please pass spm argument like [blockId(String), eleId(String)] or [pageId(String), [blockId(String), eleId(String)]]")},Tf=function(t,e){return void 0===e&&(e=!1),!(!Jo(t)||2!==t.length||!t.every((function(t){return"string"==typeof t})))||(e&&xf(),!1)},kf=function(t){if(Jo(t)){if(ql(t)){var e=t[0],r=t[1];return!("string"!=typeof e||!Tf(r))||(xf(),!1)}return Tf(t,!0)}return xf(),!1},jf=function(t){Af=t},Of=function(){return Af},Bf=function(t){wf=t},Ef=function(t){var e=Et(wf),r=t||window.location.pathname,n=r.split("/")[1],i=(function(){var t,e=null==(t=window.__KC_LANGUAGES__)?void 0:t.__ALL__;return e?e.map((function(t){return"zh_CN"===t?"zh-hans":"zh_HK"===t?"zh-hant":t.split("_")[0]})):null}()||Go).find((function(t){return t===n}));if(i){var s=new RegExp("^/"+i+"/?");r=r.replace(s,"/")}r="/"===r?r:r.replace(/\/$/,"");var o=e.find((function(t){return Kl(t).test(r)}));return o?wf[o]:""},Pf=function(){return bf(window.location.href)},Ff=function(t){if(ql(t)){var e=t[0],r=t[1];return Af+"."+(Ef()||e)+"."+r.join(".")}return Af+"."+Ef()+"."+t.join(".")},Nf=function(t){return function(e){if("$pageview"===e.event)return t()}},Rf=Object.freeze({__proto__:null,validateSpm:kf,setSiteId:jf,getSiteId:Of,setPageIdMap:Bf,getPageId:Ef,getPreSpmCode:Pf,compose:Ff,wrapPv:Nf});xt(xt.S,"Date",{now:function(){return(new Date).getTime()}});var Lf=k.exports.Date.now,Df=function(){function t(){this.cache={}}var e=t.prototype;return e.on=function(t,e){this.cache[t]=this.cache[t]||[];var r=this.cache[t];return-1===r.indexOf(e)&&r.push(e),this},e.emit=function(t){for(var e=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var s=this.cache[t];return Jo(s)&&s.forEach((function(t){t.apply(e,n)})),this},e.off=function(t,e){var r=this.cache[t];if(Jo(r))if(e){var n=r.indexOf(e);-1!==n&&r.splice(n,1)}else r.length=0;return this},t}(),If=!1,Cf=new Df;function Mf(t){var e=window.history[t];return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=e.apply(this,n),o=new window.Event(t.toLowerCase());return o.arguments=n,window.dispatchEvent(o),s}}window.history.pushState=Mf("pushState"),window.history.replaceState=Mf("replaceState"),window.addEventListener("load",(function(t){Cf.emit("$enter",t)})),window.addEventListener("beforeunload",(function(t){If=!0,Cf.emit("$leave",t)})),document.addEventListener("visibilitychange",(function(t){"visible"===document.visibilityState&&Cf.emit("$enter",t),"hidden"===document.visibilityState&&(If||Cf.emit("$leave",t))}));["pushstate","popstate","replacestate"].forEach((function(t){window.addEventListener(t,(function(t){Cf.emit("$leave",t),Cf.emit("$enter",t)}))}));var Uf={t0:Lf(),originPathname:window.location.pathname,originSearch:window.location.search},zf=function(){Uf.t0=Lf(),Uf.originPathname=window.location.pathname,Uf.originSearch=window.location.search},$f=function(){window.sensors.track("web_page_leave",{pre_spm_id:Pf(),site_id:Of(),page_id:Ef(Uf.originPathname),event_duration:(Lf()-Uf.t0)/1e3})};var Hf=["env","send_url","abtest_url","page_view","web_click","web_stay","web_page_leave","log","spa"],Vf=null,Kf=Y,Gf=Wo,qf=Jt.exports("species"),Wf=function(t){var e;return Gf(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Gf(e.prototype)||(e=void 0),Kf(e)&&null===(e=e[qf])&&(e=void 0)),void 0===e?Array:e},Jf=X,Qf=u,Xf=n,Zf=y,Yf=function(t,e){return new(Wf(t))(e)},tp=function(t,e){var r=1==t,n=2==t,i=3==t,s=4==t,o=6==t,a=5==t||o,c=e||Yf;return function(e,u,l){for(var f,p,h=Xf(e),d=Qf(h),v=Jf(u,l,3),g=Zf(d.length),_=0,y=r?c(e,g):n?c(e,0):void 0;g>_;_++)if((a||_ in d)&&(p=v(f=d[_],_,h),t))if(r)y[_]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return _;case 2:y.push(f)}else if(s)return!1;return o?-1:i||s?s:y}},ep={exports:{}},rp=I("meta"),np=Y,ip=s,sp=Z.f,op=0,ap=Object.isExtensible||function(){return!0},cp=!rt((function(){return ap(Object.preventExtensions({}))})),up=function(t){sp(t,rp,{value:{i:"O"+ ++op,w:{}}})},lp=ep.exports={KEY:rp,NEED:!1,fastKey:function(t,e){if(!np(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ip(t,rp)){if(!ap(t))return"F";if(!e)return"E";up(t)}return t[rp].i},getWeak:function(t,e){if(!ip(t,rp)){if(!ap(t))return!0;if(!e)return!1;up(t)}return t[rp].w},onFreeze:function(t){return cp&&lp.NEED&&ap(t)&&!ip(t,rp)&&up(t),t}},fp=Y,pp=function(t,e){if(!fp(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t},hp=Wr,dp=ep.exports.getWeak,vp=et,gp=Y,_p=He,yp=Ve.exports,mp=tp,bp=s,Sp=pp,Ap=mp(5),wp=mp(6),xp=0,Tp=function(t){return t._l||(t._l=new kp)},kp=function(){this.a=[]},jp=function(t,e){return Ap(t.a,(function(t){return t[0]===e}))};kp.prototype={get:function(t){var e=jp(this,t);if(e)return e[1]},has:function(t){return!!jp(this,t)},set:function(t,e){var r=jp(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=wp(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}};var Op,Bp={getConstructor:function(t,e,r,n){var i=t((function(t,s){_p(t,i,e,"_i"),t._t=e,t._i=xp++,t._l=void 0,null!=s&&yp(s,r,t[n],t)}));return hp(i.prototype,{delete:function(t){if(!gp(t))return!1;var r=dp(t);return!0===r?Tp(Sp(this,e)).delete(t):r&&bp(r,this._i)&&delete r[this._i]},has:function(t){if(!gp(t))return!1;var r=dp(t);return!0===r?Tp(Sp(this,e)).has(t):r&&bp(r,this._i)}}),i},def:function(t,e,r){var n=dp(vp(e),!0);return!0===n?Tp(t).set(e,r):n[t._i]=r,t},ufstore:Tp},Ep=O.exports,Pp=xt,Fp=ep.exports,Np=rt,Rp=_t,Lp=Wr,Dp=Ve.exports,Ip=He,Cp=Y,Mp=ne,Up=Z.f,zp=tp(0),$p=nt,Hp=O.exports,Vp=tp(0),Kp=Rt,Gp=ep.exports,qp=ni,Wp=Bp,Jp=Y,Qp=pp,Xp=pp,Zp=!Hp.ActiveXObject&&"ActiveXObject"in Hp,Yp="WeakMap",th=Gp.getWeak,eh=Object.isExtensible,rh=Wp.ufstore,nh=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},ih={get:function(t){if(Jp(t)){var e=th(t);return!0===e?rh(Qp(this,Yp)).get(t):e?e[this._i]:void 0}},set:function(t,e){return Wp.def(Qp(this,Yp),t,e)}},sh=function(t,e,r,n,i,s){var o=Ep[t],a=o,c=i?"set":"add",u=a&&a.prototype,l={};return $p&&"function"==typeof a&&(s||u.forEach&&!Np((function(){(new a).entries().next()})))?(a=e((function(e,r){Ip(e,a,t,"_c"),e._c=new o,null!=r&&Dp(r,i,e[c],e)})),zp("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;!(t in u)||s&&"clear"==t||Rp(a.prototype,t,(function(r,n){if(Ip(this,a,t),!e&&s&&!Cp(r))return"get"==t&&void 0;var i=this._c[t](0===r?0:r,n);return e?this:i}))})),s||Up(a.prototype,"size",{get:function(){return this._c.size}})):(a=n.getConstructor(e,t,i,c),Lp(a.prototype,r),Fp.NEED=!0),Mp(a,t),l[t]=a,Pp(Pp.G+Pp.W+Pp.F,l),s||n.setStrong(a,t,i),a}(Yp,nh,ih,Wp,!0,!0);Xp&&Zp&&(qp((Op=Wp.getConstructor(nh,Yp)).prototype,ih),Gp.NEED=!0,Vp(["delete","has","get","set"],(function(t){var e=sh.prototype,r=e[t];Kp(e,t,(function(e,n){if(Jp(e)&&!eh(e)){this._f||(this._f=new Op);var i=this._f[t](e,n);return"set"==t?this:i}return r.call(this,e,n)}))})));var oh;oh="WeakMap",xt(xt.S,oh,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}});var ah=xt,ch=J,uh=X,lh=Ve.exports;!function(t){ah(ah.S,t,{from:function(t){var e,r,n,i,s=arguments[1];return ch(this),(e=void 0!==s)&&ch(s),null==t?new this:(r=[],e?(n=0,i=uh(s,arguments[2],2),lh(t,!1,(function(t){r.push(i(t,n++))}))):lh(t,!1,r.push,r),new this(r))}})}("WeakMap");var fh=k.exports.WeakMap;xt(xt.S,"Object",{create:Wt});var ph=k.exports.Object,hh=function(t,e){return ph.create(t,e)};var dh,vh,gh=Function.prototype,_h=Object.prototype,yh=gh.toString,mh=_h.hasOwnProperty,bh=yh.call(Object),Sh=_h.toString,Ah=(dh=Object.getPrototypeOf,vh=Object,function(t){return dh(vh(t))});var wh=function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=Sh.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var e=Ah(t);if(null===e)return!0;var r=mh.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&yh.call(r)==bh},xh=["spm"],Th={sensors:window.sensors,init:function(t,e,r){var n=t.env,i=t.send_url,s=void 0===i?null:i,o=t.abtest_url,a=void 0===o?null:o,c=t.page_view,u=void 0===c||c,l=t.web_click,f=void 0!==l&&l,p=t.web_stay,h=void 0!==p&&p,d=t.web_page_leave,v=void 0===d||d,g=t.log,_=void 0===g||g,y=t.spa,m=void 0===y||y,b=Pt(t,Hf);void 0===r&&(r={});var S="https://bigdata-scfx-push.kucoin.plus/sa?project=default";n===Vo&&(S="https://bigdata-scfx-push.kucoin.plus/sa?project=production"),"string"==typeof proxy_url&&(S=s);var A=n===Vo?"https://assets3.staticimg.com/sensors/sensorsdata.min.js":"https://assets-v2.kucoin.net/common-statics/sensors/sensorsdata.min.js";return jf(e),Bf(r),function(t){var e=t.sdk_url,r=t.name,n=window,i=document,s="script",o=null,a=null;if(void 0!==n.sensorsDataAnalytic201505)return!1;n.sensorsDataAnalytic201505=r,n[r]=n[r]||function(t){return function(){(n[r]._q=n[r]._q||[]).push([t,arguments])}};for(var c=["use","track","quick","register","registerPage","registerOnce","trackSignup","trackAbtest","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","login","logout","trackLink","clearAllRegister","getAppStatus","setItem","deleteItem"],u=0;u<c.length;u++)n[r][c[u]]=n[r].call(null,c[u]);n[r]._t||(o=i.createElement(s),a=i.getElementsByTagName(s)[0],o.async=1,o.src=e,o.setAttribute("charset","UTF-8"),n[r].para=t,a.parentNode.insertBefore(o,a))}(ai({sdk_url:A,name:"sensors",server_url:S,send_type:"beacon",show_log:_&&"development"===n,is_track_single_page:m,is_track_device_id:!0,heatmap:{clickmap:f?$o:Ho,scroll_notice_map:h?$o:Ho},app_js_bridge:Gl()},b)),a&&(Vf=window.sensors.use("SensorsABTest",{url:a,multilink:!1})),function(t){var e,r,n,i,s;return void 0===t&&(t={app_name:""}),t.app_name||console.warn("[kc sensors]: please set the public property app_name (package.json name)"),window.sensors.registerPage(si({},t,{is_login:function(){return!!Pl},is_vip:function(){var t=Nl();return!!t&&"0"!==t},vip_level:function(){return Nl()},pre_spm_id:Nf(Pf),site_id:Nf(Of),page_id:Nf(Ef),JS_env:(e=window.navigator.userAgent,r=!!e.match(/AppleWebKit.*Mobile.*/),n=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),i=e.indexOf("Android")>-1||e.indexOf("Linux")>-1,s=Gl(),r?s&&i?"androidApp":s&&n?"iOSApp":!s&&i?"androidBrowser":!s&&n?"iOSBrowser":"pcBrowser":"pcBrowser")})),u&&window.sensors.quick("autoTrack"),v&&(Cf.on("$enter",zf),Cf.on("$leave",$f)),window.sensors}},trackClick:function(t,e){kf(t)&&window.sensors.track("page_click",si({spm_id:Ff(t)},e))},observeExpose:function(t){var e=new fh,r=hh({observe:Wl,unobserve:Wl});return IntersectionObserver&&(r=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var r=e.get(t.target);if("function"==typeof r){var n=r();if(wh(n)&&kf(n.spm)){var i=n.spm,s=Pt(n,xh);window.sensors.track("expose",si({spm_id:Ff(i)},s))}}}}))}),t)),function(t,n){return function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}}(t)&&"function"==typeof n&&(e.set(t,n),r.observe(t)),function(){try{e.delete(t),r.unobserve(t)}catch(t){}}}},getAnonymousID:function(){return window.sensors.quick("getAnonymousID")},login:function(t,e){void 0===t&&(t=""),void 0===e&&(e="0"),Rl(t),Fl=e.toString(),t&&window.sensors.login(t)},track:function(){var t;return(t=window.sensors).track.apply(t,arguments)},spm:Rf,fastFetchABTest:function(t){return new qn((function(e,r){Vf||r(new Error("abtest init error, make sure the init function is called and configure the abtest url")),Vf.fastFetchABTest(si({},t,{callback:function(t){e(t)}}))}))},spmStorage:Sf};return Th}));
